{"version":3,"sources":["resources/images/general/no_image.png","resources/images/general/background.png","serviceWorker.js","redux/actions/control/main.js","redux/actions/control/ui.js","redux/actions/control/modal.js","redux/actions/control/content.js","redux/actions/actions.js","redux/actions/data/user.js","redux/actions/data/report.js","components/URL.js","components/main/items/ui/Button.js","components/main/items/ui/Input.js","components/UI.js","components/main/pages/login/Login.js","components/main/pages/home/views/View.js","components/main/items/rows/ReportRow.js","components/main/items/rows/Row.js","components/main/pages/home/views/Entry.js","components/main/pages/home/Home.js","components/main/pages/Pages.js","components/main/Modal.js","components/main/Main.js","App.js","Database.js","redux/reducers/control/main.js","redux/reducers/control/ui.js","redux/reducers/control/modal.js","redux/reducers/control/content.js","redux/reducers/data/user.js","redux/reducers/reducer.js","redux/reducers/data/report.js","redux/reducers/root.js","redux/store.js","index.js"],"names":["module","exports","__webpack_require__","p","Boolean","window","location","hostname","match","setStatus","status","type","payload","setDimension","dimension","confirm","message","onConfirm","onCancel","showModalButton","hideModal","cacheUrl","filename","url","setSubView","subView","backToHome","clearView","pushView","view","pullView","connecting","dispatch","connectionError","to","promise","then","data","catch","err","actions","api","process","login","id","pw","console","log","_ref","Object","asyncToGenerator","regenerator_default","a","mark","_callee","res","_ref2","_ref3","wrap","_context","prev","next","axios","get","headers","sent","slicedToArray","abrupt","result","user","stop","this","_x","apply","arguments","logout","reload","fetchReports","reports","submit","report","photoBlob","signatureBlob","_ref4","_callee2","photoFile","signatureFile","photoRes","signatureRes","reportRes","_ref5","_ref6","_ref7","_ref8","photo","signature","reportToUpload","_ref9","_ref10","_context2","FormData","append","post","filenames","objectSpread","latitude","geoLocated","longitude","submitted","_x2","setCurrentStage","index","viewReport","URL","app","classCallCheck","init","func","functions","unmounted","useBlob","urlToBlob","blob","main","fetch","Button","ui","store","bs","basicStyle","text","size","onClick","style","width","height","background","color","fontWeight","fontSize","borderStyle","borderWidth","borderColor","button","customStyle","imageUrl","key","styles","backgroundImage","react_default","createElement","multiLang","border","cursor","backgroundSize","backgroundColor","flexShrink","position","Input","scale","options","defaultValue","onChange","barStyle","display","flexFlow","justifyContent","event","map","option","i","value","margin","placeholder","textAreaStyle","inputStyle","colors","grey","UI","_this","props","buttons","inputs","newProps","checkUrl","state","getUrl","db","database","textAlign","overflow","overflowWrap","textGrey","opacity","minWidth","Component","Login","titleStyle","green","inputSize","title","gap","inputField","rectGreen","_id","document","getElementById","_pw","View","possibleConstructorReturn","getPrototypeOf","call","checkViewTransition","setState","content","deadView","isOpen","_option","_this2","stiffness","damping","precision","react_motion","defaultStyle","spring","onRest","animatedView","alignItems","overflowY","animatedStyle","pointerEvents","ReportRow","rowStyle","outDated","lastModified","description","submitTime","category","subCategory","verSep","lightGrey","region","coordinate","reporter","area","textDisplay","dateString","Date","createdAt","animatedRow","bind","marginTop","itemStyle","rowIcon","problem","animatedAlert","rowInfo","infoStyle","marginLeft","rowTitle","nameStyle","passed","defaultUrl","iconSize","containerStyle","container","borderRadius","iconStyle","maxWidth","maxHeight","no_image","src","alt","onDead","selected","Entry","verGap","standard","blue","tableBar","reportRows","deepBlue","tableBarItems","item","rows_ReportRow","viewStyle","topBar","table","Home","views_Entry","pageStyle","views","Pages","login_Login","home_Home","page","Modal","count","boardStyle","buttonsArea","modal","language","modalStyle","showBtn","minHeight","board","fontFamily","padding","writingMode","Main","mainStyle","windowWidth","windowHeight","boxSizing","pages_Pages","main_Modal","App","isDev","num","String","date","year","getFullYear","monthIndex","getMonth","day","getDate","hour","getHours","min","getMinutes","addZeroIfSingle","english","chinese","simplified_chinese","cachedUrl","localFile","createObjectURL","downloadUrl","responseType","set","main_Main","updateWindowDimensions","addEventListener","removeEventListener","innerWidth","innerHeight","Action","action","bindActionCreators","connect","Database","dbPromise","idb","open","upgradeDB","createObjectStore","delete","clear","transaction","objectStore","val","tx","put","complete","mainReducer","length","undefined","version","uiReducer","modalReducer","contentReducer","traces","newCachedUrl","slice","toConsumableArray","concat","userReducer","reducer","updateElements","originals","newElements","idOnly","updatedArray","j","splice","getElementIndex","element","reportReducer","viewingReport","currentStage","rootReducer","combineReducers","middleware","applyMiddleware","thunk","createStore","ReactDOM","render","es","src_App","navigator","serviceWorker","ready","registration","unregister"],"mappings":"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","file":"static/js/main.2c79dfdd.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/no_image.57f701ae.png\";","module.exports = __webpack_public_path__ + \"static/media/background.c8dead68.png\";","// This optional code is used to register a service worker.\r\n// register() is not called by default.\r\n\r\n// This lets the app load faster on subsequent visits in production, and gives\r\n// it offline capabilities. However, it also means that developers (and users)\r\n// will only see deployed updates on subsequent visits to a page, after all the\r\n// existing tabs open on the page have been closed, since previously cached\r\n// resources are updated in the background.\r\n\r\n// To learn more about the benefits of this model and instructions on how to\r\n// opt-in, read http://bit.ly/CRA-PWA\r\n\r\nconst isLocalhost = Boolean(\r\n  window.location.hostname === 'localhost' ||\r\n    // [::1] is the IPv6 localhost address.\r\n    window.location.hostname === '[::1]' ||\r\n    // 127.0.0.1/8 is considered localhost for IPv4.\r\n    window.location.hostname.match(\r\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\r\n    )\r\n);\r\n\r\nexport function register(config) {\r\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\r\n    // The URL constructor is available in all browsers that support SW.\r\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\r\n    if (publicUrl.origin !== window.location.origin) {\r\n      // Our service worker won't work if PUBLIC_URL is on a different origin\r\n      // from what our page is served on. This might happen if a CDN is used to\r\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\r\n      return;\r\n    }\r\n\r\n    window.addEventListener('load', () => {\r\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\r\n\r\n      if (isLocalhost) {\r\n        // This is running on localhost. Let's check if a service worker still exists or not.\r\n        checkValidServiceWorker(swUrl, config);\r\n\r\n        // Add some additional logging to localhost, pointing developers to the\r\n        // service worker/PWA documentation.\r\n        navigator.serviceWorker.ready.then(() => {\r\n          console.log(\r\n            'This web app is being served cache-first by a service ' +\r\n              'worker. To learn more, visit http://bit.ly/CRA-PWA'\r\n          );\r\n        });\r\n      } else {\r\n        // Is not localhost. Just register service worker\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    });\r\n  }\r\n}\r\n\r\nfunction registerValidSW(swUrl, config) {\r\n  navigator.serviceWorker\r\n    .register(swUrl)\r\n    .then(registration => {\r\n      registration.onupdatefound = () => {\r\n        const installingWorker = registration.installing;\r\n        if (installingWorker == null) {\r\n          return;\r\n        }\r\n        installingWorker.onstatechange = () => {\r\n          if (installingWorker.state === 'installed') {\r\n            if (navigator.serviceWorker.controller) {\r\n              // At this point, the updated precached content has been fetched,\r\n              // but the previous service worker will still serve the older\r\n              // content until all client tabs are closed.\r\n              console.log(\r\n                'New content is available and will be used when all ' +\r\n                  'tabs for this page are closed. See http://bit.ly/CRA-PWA.'\r\n              );\r\n\r\n              // Execute callback\r\n              if (config && config.onUpdate) {\r\n                config.onUpdate(registration);\r\n              }\r\n            } else {\r\n              // At this point, everything has been precached.\r\n              // It's the perfect time to display a\r\n              // \"Content is cached for offline use.\" message.\r\n              console.log('Content is cached for offline use.');\r\n\r\n              // Execute callback\r\n              if (config && config.onSuccess) {\r\n                config.onSuccess(registration);\r\n              }\r\n            }\r\n          }\r\n        };\r\n      };\r\n    })\r\n    .catch(error => {\r\n      console.error('Error during service worker registration:', error);\r\n    });\r\n}\r\n\r\nfunction checkValidServiceWorker(swUrl, config) {\r\n  // Check if the service worker can be found. If it can't reload the page.\r\n  fetch(swUrl)\r\n    .then(response => {\r\n      // Ensure service worker exists, and that we really are getting a JS file.\r\n      const contentType = response.headers.get('content-type');\r\n      if (\r\n        response.status === 404 ||\r\n        (contentType != null && contentType.indexOf('javascript') === -1)\r\n      ) {\r\n        // No service worker found. Probably a different app. Reload the page.\r\n        navigator.serviceWorker.ready.then(registration => {\r\n          registration.unregister().then(() => {\r\n            window.location.reload();\r\n          });\r\n        });\r\n      } else {\r\n        // Service worker found. Proceed as normal.\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    })\r\n    .catch(() => {\r\n      console.log(\r\n        'No internet connection found. App is running in offline mode.'\r\n      );\r\n    });\r\n}\r\n\r\nexport function unregister() {\r\n  if ('serviceWorker' in navigator) {\r\n    navigator.serviceWorker.ready.then(registration => {\r\n      registration.unregister();\r\n    });\r\n  }\r\n}\r\n","export const setStatus = (status) =>{\r\n  return {\r\n    type: 'setStatus',\r\n    payload: status\r\n  }\r\n}\r\n","export const setDimension = (dimension) =>{\r\n  //console.log('Action: setDimension')\r\n  return {\r\n    type: 'setDimension',\r\n    payload: dimension\r\n  }\r\n}\r\n","export const confirm = (message, onConfirm, onCancel) =>{\r\n  return {\r\n    type: 'confirm',\r\n    payload: { message: message, onConfirm: onConfirm, onCancel: onCancel }\r\n  }\r\n}\r\n\r\nexport const message = (message) =>{\r\n  return {\r\n    type: 'message',\r\n    payload: message\r\n  }\r\n}\r\n\r\nexport const showModalButton = () =>{\r\n  return {\r\n    type: 'showModalButton',\r\n  }\r\n}\r\n\r\nexport const hideModal = () =>{\r\n  return {\r\n    type: 'hideModal',\r\n  }\r\n}\r\n","\r\nexport const cacheUrl = (filename, url) =>{\r\n  return {\r\n    type: 'cacheUrl',\r\n    payload: { filename: filename, url: url }\r\n  }\r\n}\r\n\r\nexport const setSubView = (subView) =>{\r\n  return {\r\n    type: 'setSubView',\r\n    payload: subView\r\n  }\r\n}\r\n\r\nexport const backToHome = () =>{\r\n  return {\r\n    type: 'backToHome'\r\n  }\r\n}\r\n\r\nexport const clearView = () =>{\r\n  return {\r\n    type: 'clearView'\r\n  }\r\n}\r\n\r\nexport const pushView = (view) =>{\r\n  return {\r\n    type: 'pushView',\r\n    payload: view\r\n  }\r\n}\r\n\r\nexport const pullView = () =>{\r\n  return {\r\n    type: 'pullView'\r\n  }\r\n}\r\n","\r\nexport function connecting(dispatch){\r\n  dispatch({type: \"loadingMessage\", payload: ['Connecting...', '連線中...', '连线中...']});\r\n}\r\n\r\nexport function connectionError(dispatch){\r\n  dispatch({type: \"message\", payload: ['Connection error, Please try again!', '網絡出現問題，請再試一次!', '网络出现问题，请再试一次!']});\r\n}\r\n\r\nexport function updateSuccess(dispatch){\r\n  dispatch({type: \"message\", payload: ['Update succeed!', '更改成功!', '更改成功!']});\r\n}\r\n\r\nexport function updateFailed(dispatch){\r\n  dispatch({type: \"message\", payload: ['Update failed! Please try again!', '更改失敗! 請再試一次!', '更改失敗! 請再試一次!']});\r\n}\r\n\r\nexport function api(){ return process.env.REACT_APP_DEV === 'true'? process.env.REACT_APP_API_DEV: process.env.REACT_APP_API; }\r\n\r\nexport function to(promise) {\r\n   return promise.then(data => {\r\n      return [null, data];\r\n   })\r\n   .catch(err => [err]);\r\n}\r\n","import axios from 'axios';\r\nimport * as actions from '../actions';\r\n\r\nvar to = actions.to;\r\nvar api = actions.api();\r\n\r\nexport function login (id, pw) {\r\n  console.log(api);\r\n  console.log(id + ' ' + pw);\r\n  return async function (dispatch) {\r\n    actions.connecting(dispatch);\r\n\r\n    let err, res;\r\n    [err, res] = await to(axios.get(api + '/user/login',{ headers: { id: 'abc', pw: '123' }}));\r\n    if(err){ actions.connectionError(dispatch); return; }\r\n\r\n    if(res.data.result === 'succeed'){\r\n      console.log(res.data);\r\n      dispatch({type: 'setUser', payload: res.data.user});\r\n      dispatch({type: 'setStatus', payload: 'ready'});\r\n      dispatch({type: 'hideModal'});\r\n    }else{\r\n      dispatch({type: 'message', payload: ['Login failed! Invalid id or password!', '登入失敗! 名稱或密碼不正確!', '登入失败! 名称或密码不正确!']});\r\n    }\r\n\r\n  }\r\n}\r\n\r\nexport function logout() {\r\n  return function (dispatch) {\r\n    //dispatch({type: 'setStatus', payload: 'waitForLogin'});\r\n    window.location.reload();\r\n  }\r\n}\r\n","import axios from 'axios';\r\nimport * as actions from '../actions';\r\n\r\nvar to = actions.to;\r\nvar api = actions.api();\r\n\r\nexport function fetchReports(){\r\n  return async function (dispatch){\r\n    //console.log('fetching');\r\n    let err, res;\r\n    [err, res] = await to(axios.get(api + '/report/fetchAll'));\r\n    if(err){actions.connectionError(dispatch); return;}\r\n\r\n    if(res.data.result === 'succeed'){\r\n      dispatch({type: 'updateReports', payload: res.data.reports});\r\n    }else{\r\n      actions.connectionError(dispatch);\r\n    }\r\n  }\r\n}\r\n\r\nexport function submit (report, photoBlob, signatureBlob) {\r\n  return async function (dispatch) {\r\n    //console.log(report);\r\n    actions.connecting(dispatch);\r\n\r\n    var photoFile = new FormData();\r\n    photoFile.append('files', photoBlob, 'photo.png');\r\n    var signatureFile = new FormData();\r\n    signatureFile.append('files', signatureBlob, 'signature.png');\r\n\r\n    let err, photoRes, signatureRes, reportRes;\r\n    [err, photoRes] = await to(axios.post(api + '/upload', photoFile, { headers: { type: 'photo'}}))\r\n    if(err){actions.connectionError(dispatch); return;}\r\n    [err, signatureRes] = await to(axios.post(api + '/upload', signatureFile, { headers: { type: 'signature'}}))\r\n    if(err){actions.connectionError(dispatch); return;}\r\n\r\n    const photo = photoRes.data.filenames[0];\r\n    const signature = signatureRes.data.filenames[0];\r\n\r\n    var reportToUpload = {...report, ...{photo: photo, signature: signature} };\r\n    [err, reportRes] = await to(axios.post(api + '/report/add', { data: {\r\n      report: reportToUpload, latitude: report.geoLocated.latitude, longitude: report.geoLocated.longitude} }));\r\n    if(err){actions.connectionError(dispatch); return;}\r\n\r\n    if(reportRes.data.result === 'succeed'){\r\n      dispatch({type: 'hideModal'});\r\n      dispatch({type: 'updateReports', payload: [reportRes.data.report]});\r\n      dispatch({type: 'viewReport', payload: { submitted: true }});\r\n      dispatch({type: 'setCurrentStage', payload: 4 });\r\n    }else{\r\n      console.log(reportRes.data.result);\r\n      dispatch({type: 'message', payload: ['Submit failed! Please try again!', '提交失敗! 請再試一次!', '提交失败! 请再试一次!']});\r\n    }\r\n  }\r\n}\r\n\r\nexport const setCurrentStage = (index) =>{\r\n  return {\r\n    type: 'setCurrentStage',\r\n    payload: index\r\n  }\r\n}\r\n\r\nexport const viewReport = (report) =>{\r\n  return {\r\n    type: 'viewReport',\r\n    payload: report\r\n  }\r\n}\r\n","class URL {\r\n\r\n  constructor(app){\r\n    this.init(app);\r\n  }\r\n\r\n  init(app){\r\n    this.func = app.functions;\r\n    this.actions = app.actions;\r\n  }\r\n\r\n  async getUrl(filename, type){\r\n    //console.log('get url: ' + filename);\r\n    const url = await this.func.url(filename, type);\r\n    //console.log(url);\r\n    if(!this.unmounted && url && url !== this.url){\r\n      this.url = url;\r\n      if(this.useBlob){\r\n        this.blob = await this.urlToBlob(url);\r\n      }\r\n      //console.log('get url');\r\n      this.actions.main.setStatus('ready');\r\n    }\r\n  }\r\n\r\n  async urlToBlob(url){\r\n    if(!url){ return null; }\r\n    const res = await fetch(url).catch(err=>{ return null; });\r\n    const blob = await res.blob().catch(err=>{ return null; });\r\n    return blob;\r\n  }\r\n\r\n  componentWillUnmount(){ this.unmounted = true; }\r\n\r\n}\r\n\r\nexport default URL;\r\n","import React from 'react';\r\n\r\nclass Button {\r\n\r\n  constructor(app){\r\n    this.init(app);\r\n  }\r\n\r\n  init(app){\r\n    this.app = app;\r\n    this.ui = app.store.ui;\r\n    this.bs = this.ui.basicStyle;\r\n    this.func = app.functions;\r\n    this.actions = app.actions;\r\n  }\r\n\r\n  rectGreen(text, size, onClick){\r\n    const style = {\r\n      width: size[0],\r\n      height: size[1],\r\n      background: 'linear-gradient(to bottom, #008901 0%, #91c33b 100%)',\r\n      color: 'white',\r\n      fontWeight: 'bold',\r\n      fontSize: '100%',\r\n      borderStyle: 'solid',\r\n      borderWidth: '1px',\r\n      borderColor: '#008901'\r\n    }\r\n    return this.button(style, text, '', onClick, 'rectGreen')\r\n  }\r\n\r\n  standard(color, text, onClick){\r\n    const style = {\r\n      width: this.bs.width * 0.125,\r\n      height: this.bs.width * 0.045,\r\n      background: color,\r\n      color: 'white',\r\n      fontWeight: 'normal',\r\n      fontSize: this.bs.width * 0.02\r\n    }\r\n    return this.button(style, text, '', onClick, 'standard' + text)\r\n  }\r\n\r\n  button(customStyle, text, imageUrl, onClick, key){\r\n    var style = {...styles.button, ...customStyle }\r\n    if(imageUrl && imageUrl !== ''){\r\n      style = {...style, ...{ backgroundImage: 'url(' + imageUrl + ')' }}\r\n    }\r\n    return(\r\n    <button style={style} key={key} onClick={onClick}>\r\n    {this.func.multiLang(text[0],text[1], text[2])}</button>)\r\n  }\r\n\r\n}\r\n\r\nconst styles = {\r\n  button:{\r\n    border: 'none',\r\n    cursor: 'pointer',\r\n    backgroundSize: '100% 100%',\r\n    backgroundColor: 'transparent',\r\n    fontWeight: 'bold',\r\n    fontSize: '100%',\r\n    color: 'white',\r\n    flexShrink: 0,\r\n    position: 'relative'\r\n  }\r\n}\r\n\r\nexport default Button;\r\n","import React from 'react';\r\n\r\nclass Input {\r\n\r\n  constructor(app){\r\n    this.init(app);\r\n  }\r\n\r\n  init(app){\r\n    this.app = app;\r\n    this.ui = app.store.ui;\r\n    this.bs = this.ui.basicStyle;\r\n    this.func = app.functions;\r\n  }\r\n\r\n  optionBar(id, scale, options, defaultValue, onChange){\r\n    const barStyle = {\r\n      width: scale[0],\r\n      height: scale[1],\r\n      fontSize: '125%',\r\n      display: 'flex',\r\n      flexFlow: 'row nowrap',\r\n      justifyContent: 'center',\r\n      backgroundColor: 'white',\r\n      flexShrink: 0\r\n    }\r\n\r\n    return(\r\n      <select id={id} style={barStyle} defaultValue={defaultValue} onChange={onChange?(event)=>{onChange(event)}:null}>\r\n        {options.map((option, i)=>{\r\n          return <option key={i}>{option}</option>\r\n        })}\r\n      </select>\r\n    )\r\n  }\r\n\r\n  dateField(id, type, value){\r\n    const inputStyle = {\r\n      width: '50%',\r\n      height: '4%',\r\n      fontSize: '100%',\r\n      margin: '2%',\r\n      flexShrink: 0\r\n    }\r\n    return <input id={id} type={type} defaultValue={value} style={inputStyle} />\r\n  }\r\n\r\n  textArea(id, placeholder, value, onChange, scale, fontSize){\r\n    const textAreaStyle = {\r\n      width: scale? scale[0]: this.bs.width * 0.67,\r\n      height: scale? scale[1]: this.bs.height * 0.15,\r\n      fontSize: fontSize? fontSize: '175%',\r\n      flexShrink: 0\r\n    }\r\n    return <textarea id={id} style={textAreaStyle} defaultValue={value} onChange={onChange?onChange:null} placeholder={placeholder?this.func.multiLang(placeholder[0],placeholder[1],placeholder[2]):''}/>\r\n  }\r\n\r\n  inputField(id, type, placeholder, size, value, onChange){\r\n    const inputStyle = {\r\n      width: size[0],\r\n      height: size[1],\r\n      fontSize: size[1],\r\n      color: this.ui.colors.grey,\r\n      flexShrink: 0\r\n    }\r\n    return(\r\n      <input id={id} type={type} style={inputStyle}\r\n      placeholder={this.func.multiLang(placeholder[0], placeholder[1], placeholder[2])}\r\n      defaultValue={value}\r\n      onChange={onChange}/>\r\n    )\r\n  }\r\n\r\n}\r\n\r\nexport default Input;\r\n","import React, { Component } from 'react';\r\nimport URL from './URL';\r\nimport Button from 'components/main/items/ui/Button';\r\nimport Input from 'components/main/items/ui/Input';\r\n\r\nclass UI extends Component {\r\n  url = new URL(this.props.app);\r\n  buttons = new Button(this.props.app);\r\n  inputs = new Input(this.props.app);\r\n\r\n  componentWillReceiveProps(newProps){\r\n    this.init(newProps);\r\n    this.checkUrl();\r\n  }\r\n\r\n  checkUrl(){\r\n    if(this.state && this.state.filename){\r\n      //console.log('getting url: ' + this.state.filename);\r\n      this.url.getUrl(this.state.filename, this.state.type);\r\n    }else{\r\n      //console.log('no filename in state');\r\n    }\r\n  }\r\n\r\n  init(props){\r\n    this.app = props.app;\r\n    this.ui = this.app.store.ui;\r\n    this.bs = this.ui.basicStyle;\r\n    this.store = this.app.store;\r\n    this.func = this.app.functions;\r\n    this.db = this.app.database;\r\n    this.actions = this.app.actions;\r\n\r\n    this.url.init(props.app);\r\n  }\r\n\r\n  textDisplay(text, scale, fontSize, textAlign, color, key){\r\n    const style = {\r\n      width: scale? scale[0]: '100%',\r\n      height: scale? scale[1]: '',\r\n      margin: '1%',\r\n      fontSize: fontSize? fontSize: '100%',\r\n      fontWeight: 'normal',\r\n      textAlign: textAlign? textAlign: 'left',\r\n      overflow: 'hidden',\r\n      overflowWrap: 'break-word',\r\n      color: color? color: this.ui.colors.textGrey,\r\n      flexShrink: 0\r\n    }\r\n    return <div key={key? key:'defaultKey' + text} style={style}>{text}</div>\r\n  }\r\n\r\n  gap(height){\r\n    return <div style={{height: height, width: '100%', flexShrink: 0}} />\r\n  }\r\n\r\n  sep(){\r\n    return <div style={{height: '1px', width: '100%', backgroundColor:'black', opacity: 0.15, flexShrink: 0}} />\r\n  }\r\n\r\n  verGap(width){\r\n    return <div style={{minWidth: width, height: '100%', flexShrink: 0}}/>\r\n  }\r\n\r\n  verSep(color, height){\r\n    return <div style={{backgroundColor: color, width: '1px', height: height, flexShrink: 0}}/>\r\n  }\r\n}\r\n\r\nexport default UI;\r\n","import React from 'react';\r\nimport UI from 'components/UI';\r\n\r\nclass Login extends UI {\r\n\r\n  title(){\r\n    const titleStyle = {\r\n      color: this.ui.colors.green,\r\n      fontSize: this.bs.height * 0.1,\r\n      fontWeight: 'bold'\r\n    }\r\n    return <div style={titleStyle}>SiteTracker</div>\r\n  }\r\n\r\n  render(){\r\n    this.init(this.props);\r\n    const inputSize = [this.bs.width * 0.35, this.bs.width * 0.035]\r\n    return(\r\n      <div style={{...this.bs, ...{ justifyContent: 'center'}}}>\r\n        {this.title()}\r\n        {this.gap('6%')}\r\n        {this.inputs.inputField('id', 'text', ['Login id','登入名稱'], inputSize)}\r\n        {this.gap('3%')}\r\n        {this.inputs.inputField('pw', 'password', ['Password','密碼'], inputSize)}\r\n        {this.gap('6%')}\r\n        {this.buttons.rectGreen(['Login','登入'], inputSize, ()=>{ this.login(); })}\r\n      </div>\r\n    )\r\n  }\r\n\r\n  login(id, pw){\r\n    const _id = id? id: document.getElementById('id').value;\r\n    const _pw = pw? pw: document.getElementById('pw').value;\r\n    //if(_id.length < 5 || _pw.length < 5){ return; }\r\n    this.props.app.actions.user.login(_id, _pw);\r\n  }\r\n}\r\n\r\nexport default Login;\r\n","import React from 'react';\r\nimport UI from 'components/UI';\r\nimport {Motion, spring}  from 'react-motion';\r\n\r\nclass View extends UI {\r\n\r\n  constructor(props){\r\n    super(props);\r\n    this.init(props);\r\n    this.state = {}\r\n  }\r\n\r\n  componentWillReceiveProps(newProps){\r\n    this.checkViewTransition(newProps);\r\n  }\r\n\r\n  checkViewTransition(newProps){\r\n    if(!this.state){ return; }\r\n    this.setState({\r\n      view: newProps.app.store.content.subView,\r\n      deadView: this.state.view !== newProps.app.store.content.subView? this.state.view: this.state.deadView\r\n    });\r\n  }\r\n\r\n  animatedView(content, view, isOpen, _option){\r\n    //console.log(view);\r\n    const option = _option? _option: {stiffness: 100, damping: 50, precision: 3}\r\n    return(\r\n      <Motion key={view} defaultStyle={{opacity: isOpen? 0:1}}\r\n      style={{opacity: isOpen?spring(1, option):spring(0, option)}}\r\n      onRest={!isOpen? ()=>{ this.setState({deadView: null}); }: null }>\r\n        {style=>(\r\n          content(view, style)\r\n        )}\r\n      </Motion>\r\n    )\r\n  }\r\n\r\n  animatedSubView(content, view, isOpen){\r\n    const option = {stiffness: 1000, damping: 50, precision: 9}\r\n    return this.animatedView(content, view, isOpen, option)\r\n  }\r\n\r\n  viewStyle(){\r\n    return {...this.bs, ...{\r\n      height: this.bs.height * 1,\r\n      position: 'relative',\r\n      justifyContent: 'flex-start',\r\n      alignItems: 'center',\r\n      overflowY: 'auto',\r\n      backgroundColor: 'white',\r\n      opacity: this.app.animatedStyle.opacity,\r\n      pointerEvents: this.app.animatedStyle.opacity === 1? '':'none'\r\n    }}\r\n  }\r\n\r\n  viewContentStyle(){\r\n    return {\r\n      width: '100%',\r\n      display: 'flex',\r\n      flexFlow: 'column nowrap',\r\n      flexShrink: 0,\r\n      justifyContent: 'flex-start',\r\n      alignItems: 'center',\r\n      overflowY: 'auto',\r\n      backgroundColor: 'white'\r\n    }\r\n  }\r\n\r\n}\r\n\r\nexport default View;\r\n","import React from 'react';\r\nimport Row from './Row';\r\n\r\nclass ReportRow extends Row {\r\n\r\n  constructor(props){\r\n    super(props);\r\n    this.init(props);\r\n    this.state = {\r\n      filename: this.props.report? this.props.report.photo: null,\r\n      type: 'photo'\r\n    }\r\n    this.checkUrl();\r\n  }\r\n\r\n  componentWillReceiveProps(newProps){\r\n    this.init(newProps);\r\n    if(newProps.report && !this.state.filename){\r\n      this.setState({\r\n        filename: newProps.report.photo,\r\n        type: 'photo'\r\n      })\r\n    }\r\n    this.checkUrl();\r\n  }\r\n\r\n  rowInfo(){\r\n    const report = this.props.report;\r\n\r\n    const rowStyle = {...this.ui.styles.area, ...{\r\n      width: '100%',\r\n      height: this.bs.height * 0.06,\r\n      justifyContent: 'flex-start',\r\n      alignItems: 'flex-end'\r\n    }}\r\n    return(\r\n      <div style={rowStyle}>\r\n        {this.textDisplay(this.func.dateString(new Date(report.createdAt)), ['',''], '150%', '', this.ui.colors.lightGrey)}\r\n      </div>\r\n    )\r\n  }\r\n\r\n  render(){\r\n    if(this.props.report === null){ return null; }\r\n    return this.animatedRow(this.content.bind(this), this.bs.height * 0.2)\r\n  }\r\n\r\n  content = (style)=>(\r\n      <div style={{...this.rowStyle(), ...{\r\n        height: style.height,\r\n        opacity: style.opacity * this.outDated? 0.5:1\r\n      }}}>\r\n        {this.lastModified()}\r\n        {this.description()}\r\n        {this.submitTime()}\r\n        {this.category()}\r\n        {this.subCategory()}\r\n\r\n        {this.verSep(this.ui.colors.lightGrey, '75%')}\r\n        {this.region()}\r\n        {this.status()}\r\n        {this.coordinate()}\r\n\r\n        {this.verSep(this.ui.colors.lightGrey, '75%')}\r\n        {this.reporter()}\r\n        {this.signature()}\r\n      </div>\r\n  )\r\n\r\n  text(text){\r\n    return this.textDisplay(text,['100%',this.bs.height * 0.025], this.bs.width * 0.01, 'center',this.ui.colors.textGrey)\r\n  }\r\n\r\n  itemStyle(width){\r\n    return {...this.bs, ...{\r\n      width: width? width: this.bs.width * 0.15,\r\n      height: this.bs.height * 0.2,\r\n      justifyContent: 'flex-start',\r\n      marginTop: '1%'\r\n    }}\r\n  }\r\n\r\n  lastModified(){\r\n    return (\r\n      <div style={this.itemStyle(this.bs.width * 0.16)}>\r\n        {this.rowIcon()}\r\n        {this.gap('5%')}\r\n        {this.text(this.func.dateString(new Date(this.props.report.createdAt)))}\r\n      </div>\r\n    )\r\n  }\r\n\r\n  description(){\r\n    return (\r\n      <div style={this.itemStyle()}>\r\n        {this.text('description')}\r\n      </div>\r\n    )\r\n  }\r\n\r\n  submitTime(){\r\n    return (\r\n      <div style={this.itemStyle()}>\r\n        {this.text(this.func.dateString(new Date(this.props.report.createdAt)))}\r\n      </div>\r\n    )\r\n  }\r\n\r\n  category(){\r\n    return (\r\n      <div style={this.itemStyle()}>\r\n        {this.text('category')}\r\n      </div>\r\n    )\r\n  }\r\n\r\n  subCategory(){\r\n    return (\r\n      <div style={this.itemStyle()}>\r\n        {this.text(this.props.report.problem)}\r\n      </div>\r\n    )\r\n  }\r\n\r\n  region(){\r\n    return (\r\n      <div style={this.itemStyle()}>\r\n        {this.text('region')}\r\n      </div>\r\n    )\r\n  }\r\n\r\n  status(){\r\n    return (\r\n      <div style={this.itemStyle()}>\r\n        {this.text('status')}\r\n      </div>\r\n    )\r\n  }\r\n\r\n  coordinate(){\r\n    return (\r\n      <div style={this.itemStyle()}>\r\n        {this.text(this.props.report.geoLocated.latitude)}\r\n        {this.text(this.props.report.geoLocated.longitude)}\r\n      </div>\r\n    )\r\n  }\r\n\r\n  reporter(){\r\n    return (\r\n      <div style={this.itemStyle()}>\r\n        {this.text('reporter')}\r\n      </div>\r\n    )\r\n  }\r\n\r\n  signature(){\r\n    return (\r\n      <div style={this.itemStyle()}>\r\n        {this.text('provided')}\r\n      </div>\r\n    )\r\n  }\r\n\r\n}\r\n\r\nexport default ReportRow;\r\n","import React from 'react';\r\nimport UI from 'components/UI';\r\nimport {Motion, spring}  from 'react-motion';\r\n\r\nimport no_image from 'resources/images/general/no_image.png';\r\n\r\nclass Row extends UI {\r\n\r\n  alertTag(){\r\n    const style = {\r\n      width: this.bs.height * 0.04,\r\n      height: this.bs.height * 0.04\r\n    }\r\n    return <div style={style}>{this.animatedAlert()}</div>\r\n  }\r\n\r\n  rowContent(title, rowInfo){\r\n    const infoStyle = {...this.bs, ...{\r\n      width: '75%',\r\n      height: this.bs.height * 0.12,\r\n      marginLeft: this.bs.height * 0.02\r\n    }}\r\n    return(\r\n      <div style={infoStyle}>\r\n        {this.rowTitle(title)}\r\n        {rowInfo()}\r\n      </div>\r\n    )\r\n  }\r\n\r\n  rowTitle(title){\r\n    if(!title){\r\n      return null;\r\n    }\r\n    const nameStyle = {\r\n      width: '100%',\r\n      height: this.bs.height * 0.06,\r\n      fontWeight: 'bold',\r\n      fontSize: this.bs.width * 0.04,\r\n      textAlign: 'left',\r\n      color: this.ui.colors.textGrey\r\n    }\r\n    return <div style={nameStyle}>{title}</div>\r\n  }\r\n\r\n  rowIcon(passed, defaultUrl){\r\n    const size = this.bs.height * 0.12;\r\n    const iconSize = this.bs.height * 0.11;\r\n    const containerStyle = {...this.ui.styles.border , ...this.ui.styles.container, ...{\r\n      width: size,\r\n      height: size,\r\n      backgroundColor: 'white',\r\n      position: 'relative',\r\n      borderRadius: 5\r\n    }}\r\n    const iconStyle = {...this.ui.styles.border, ...{\r\n      maxWidth: iconSize,\r\n      maxHeight: iconSize,\r\n      backgroundColor: 'white'\r\n    }}\r\n    const url = defaultUrl? defaultUrl: this.url.url? this.url.url: no_image;\r\n    return(\r\n      <div style={containerStyle}>\r\n        <img key={url} style={iconStyle} src={url} alt=''/>\r\n      </div>\r\n    )\r\n  }\r\n\r\n  animatedRow(content, height, onDead){\r\n    const ani = true;\r\n    const option = {stiffness: onDead? 200: 300, damping: 26, precision: 1.2}\r\n    return(\r\n      <Motion defaultStyle={{height: (!ani || onDead)? height: 0, opacity: (!ani || onDead)? 1.1:0}}\r\n      style={{height: spring(onDead? 0:height, option), opacity: spring(onDead?0: 1.1, option)}}>\r\n        {style=>content(style)}\r\n      </Motion>\r\n    )\r\n  }\r\n\r\n  animatedFadingRow(content, selected){\r\n    const option = {stiffness: 1000, damping: 50, precision: 2}\r\n    return(\r\n      <Motion defaultStyle={{opacity:0 }}\r\n      style={{opacity: spring(selected? 1: 0.25, option)}}>\r\n        {style=>content(style)}\r\n      </Motion>\r\n    )\r\n  }\r\n\r\n  rowStyle(){\r\n    return(\r\n      {...this.ui.styles.area, ...this.ui.styles.border, ...{\r\n        flexShrink: 0,\r\n        width: '98%',\r\n        alignItems: 'center',\r\n        position: 'relative',\r\n        borderRadius: 5,\r\n        margin: '1%'\r\n      }}\r\n    )\r\n  }\r\n\r\n}\r\n\r\nexport default Row;\r\n","import React from 'react';\r\nimport View from 'components/main/pages/home/views/View';\r\nimport ReportRow from 'components/main/items/rows/ReportRow';\r\n\r\nclass Entry extends View {\r\n\r\n  componentDidMount(){\r\n    this.actions.report.fetchReports();\r\n  }\r\n\r\n  topBar(){\r\n    const style = {...this.ui.styles.area, ...{\r\n      width: this.bs.width,\r\n      height: this.bs.width * 0.1,\r\n      backgroundColor: 'transparent',\r\n      alignItems: 'center'\r\n    }}\r\n    return(\r\n      <div style={style}>\r\n        {this.verGap('5%')}\r\n        {this.inputs.inputField('search','text','',['50%',this.bs.width * 0.03],'',()=>{})}\r\n        {this.verGap('30%')}\r\n        {this.buttons.standard(this.ui.colors.blue, ['Export .csv','汇出 .csv',''], ()=>{})}\r\n      </div>\r\n    )\r\n  }\r\n\r\n  table(){\r\n    const style = {...this.bs, ...{\r\n      width: this.bs.width,\r\n      height: this.bs.height * 0.9,\r\n      backgroundColor: 'transparent'\r\n    }}\r\n    return(\r\n      <div style={style}>\r\n        {this.tableBar()}\r\n        {this.reportRows()}\r\n      </div>\r\n    )\r\n  }\r\n\r\n  tableBar(){\r\n    const style = {...this.ui.styles.area, ...{\r\n      width: this.bs.width,\r\n      height: this.bs.width * 0.035,\r\n      backgroundColor: this.ui.colors.deepBlue\r\n    }}\r\n    return(\r\n      <div style={style}>\r\n        {this.tableBarItems()}\r\n      </div>\r\n    )\r\n  }\r\n\r\n  tableBarItems(){\r\n    const content =\r\n    ['Last Modified','Description','Submit Time',\r\n    'Category','Sub-Category','Region','Status',\r\n    'Coordinate','Reporter','Signature'];\r\n    const style = {...this.ui.styles.area, ...{\r\n      alignItems: 'center',\r\n      justifyContent: 'center',\r\n      width: '100%',\r\n      fontSize: this.bs.width * 0.01,\r\n      color: 'white'\r\n    }}\r\n    return content.map((item, i)=>{\r\n      return(\r\n        <div key={i} style={style}>\r\n          {item}\r\n        </div>\r\n      )\r\n    })\r\n  }\r\n\r\n  reportRows(){\r\n    const style = {...this.bs ,...{\r\n      width: '100%',\r\n      height: '100%',\r\n      overflow: 'auto'\r\n    }}\r\n    return(\r\n      <div style={style}>\r\n        {this.store.report.reports.map((report, i)=>{\r\n          return <ReportRow index={i} app={this.app} report={report}/>\r\n        })}\r\n      </div>\r\n    )\r\n  }\r\n\r\n  render() {\r\n    this.init(this.props);\r\n    return(\r\n      <div style={this.viewStyle()}>\r\n        {this.topBar()}\r\n        {this.table()}\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\nexport default Entry;\r\n","import React from 'react';\r\nimport View from 'components/main/pages/home/views/View';\r\n\r\n//import NavBar from './NavBar';\r\nimport Entry from './views/Entry';\r\n\r\nclass Home extends View {\r\n\r\n  componentDidMount(){\r\n    this.actions.content.pushView('entry');\r\n  }\r\n\r\n  componentWillReceiveProps(newProps){\r\n    this.setState({\r\n      view: newProps.app.store.content.view,\r\n      deadView: this.state.view !== newProps.app.store.content.view? this.state.view: this.state.deadView\r\n    });\r\n  }\r\n\r\n  views(view, animatedStyle){\r\n    const app = this.app;\r\n    app.animatedStyle = animatedStyle;\r\n    if(view === ''){\r\n      return null;\r\n    }\r\n    switch (view) {\r\n      case 'entry':\r\n        return <Entry app={app}/>;\r\n      default:\r\n        return null;\r\n    }\r\n  }\r\n\r\n  render() {\r\n    this.init(this.props);\r\n    const pageStyle = {...this.ui.basicStyle, ...{\r\n      justifyContent: 'flex-start',\r\n      background: 'transparent',\r\n      backgroundSize: '100% 100%',\r\n      position: 'relative',\r\n      backgroundColor: 'white'\r\n    }}\r\n    const deadView = this.state.deadView;\r\n    const view = this.state.view;\r\n\r\n    return(\r\n      <div style={pageStyle}>\r\n        {this.animatedView(this.views.bind(this), deadView? deadView: view, deadView? false: true)}\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\n\r\nexport default Home;\r\n","import React, { Component } from 'react';\r\n\r\nimport Login from './login/Login';\r\nimport Home from './home/Home';\r\n\r\nclass Pages extends Component {\r\n\r\n  page(){\r\n    const app = this.props.app;\r\n    switch (app.store.main.status) {\r\n      case 'waitForLogin':\r\n        return <Login app={app}/>\r\n      case 'ready':\r\n        return <Home app={app}/>\r\n      default:\r\n        return <div/>\r\n    }\r\n  }\r\n\r\n  render() {\r\n    return(\r\n      <div style={this.bs}>\r\n        {this.page()}\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\nexport default Pages;\r\n","import React from 'react';\r\nimport UI from 'components/UI';\r\nimport {Motion, spring}  from 'react-motion';\r\n\r\nclass Modal extends UI {\r\n\r\n  componentDidMount(){\r\n    this.count = 0;\r\n  }\r\n\r\n  componentWillReceiveProps(newProps){\r\n    this.count = this.count + 1;\r\n  }\r\n\r\n  board(){\r\n    const boardStyle = {\r\n      width: this.bs.height * 0.4,\r\n      height:  this.bs.height * 0.2,\r\n      borderRadius: '20px',\r\n      backgroundImage: '',\r\n      backgroundSize: '100% 100%',\r\n      display: 'flex',\r\n      flexFlow: 'column nowrap',\r\n      alignItems: 'center',\r\n      justifyContent: 'flex-end'\r\n    }\r\n\r\n    return(\r\n      <div style={boardStyle}>\r\n        <div style={{height: '10%'}} />\r\n        {this.message()}\r\n        {this.buttonsArea()}\r\n      </div>\r\n    )\r\n  }\r\n\r\n  message(){\r\n    const modal = this.store.modal;\r\n    const lang = this.store.main.language;\r\n    const text = modal[lang];\r\n\r\n    return <div style={modalStyle}>{text}</div>\r\n  }\r\n\r\n  buttonsArea(){\r\n    const status = this.store.modal.button;\r\n    const showBtn = status !== 'off';\r\n    const onConfirm = status === 'confirm'? this.store.modal.onConfirm: ()=>{};\r\n    const onCancel = this.store.modal.onCancel? this.store.modal.onCancel: ()=>{};\r\n\r\n    const areaStyle = {\r\n      width: '85%',\r\n      height: '65%',\r\n      backgroundColor: 'transparent',\r\n      display: 'flex',\r\n      flexFlow: 'row nowrap',\r\n      justifyContent: 'space-around',\r\n      alignItems: 'center',\r\n      flexShrink: 0\r\n    }\r\n    return(\r\n      <div style={areaStyle}>\r\n        {showBtn && this.button(['Confirm','確定','确定'], ()=>{ onConfirm(); this.actions.modal.hideModal(); })}\r\n        {status === 'confirm' && this.button(['Cancel','取消','取消'], ()=>{ onCancel(); this.actions.modal.hideModal();})}\r\n      </div>\r\n    )\r\n  }\r\n\r\n  button(text, onClick){\r\n    return this.buttons.button(modalStyle, text, '', onClick);\r\n  }\r\n\r\n  render() {\r\n    this.init(this.props);\r\n    const status = this.store.modal.status;\r\n    const isOpen = status !== 'off';\r\n\r\n    const modalStyle = {\r\n      position: 'absolute',\r\n      width: this.bs.width,\r\n      height: this.bs.height,\r\n      minHeight: this.bs.minHeight,\r\n      backgroundColor: 'rgba(0,0,0,0.5)',\r\n      opacity: 1,\r\n      display: 'flex',\r\n      justifyContent: 'center',\r\n      alignItems: 'center',\r\n      pointerEvents: isOpen? 'auto': 'none'\r\n    }\r\n    return(\r\n      <Motion defaultStyle={{opacity: 0}}\r\n      style={{opacity: isOpen? spring(1.5):spring(0)}}>\r\n        {style=>(\r\n          <div key={status + this.count} style={{...modalStyle,\r\n            ...{opacity: style.opacity}}}>\r\n            {this.board()}\r\n          </div>\r\n        )}\r\n      </Motion>\r\n    )\r\n  }\r\n\r\n}\r\n\r\nconst modalStyle = {\r\n  borderRadius: '20px',\r\n  backgroundColor: 'rgba(255,255,255,0.9)',\r\n  color: 'black',\r\n  fontFamily: 'adobestdb',\r\n  fontSize: '100%',\r\n  fontWeight: 'bold',\r\n  textAlign: 'center',\r\n  padding: '5%',\r\n  writingMode: 'horizontal-lr'\r\n}\r\n\r\nexport default Modal;\r\n","import React from 'react';\r\nimport UI from 'components/UI';\r\n\r\nimport Pages from './pages/Pages';\r\nimport Modal from './Modal';\r\n\r\nimport background from 'resources/images/general/background.png';\r\n\r\nclass Main extends UI {\r\n\r\n  componentDidMount(){\r\n    this.init(this.props);\r\n    this.actions.main.setStatus('ready');\r\n  }\r\n\r\n  componentWillReceiveProps(newProps){\r\n    this.init(this.props);\r\n\r\n    /*if(previous === 'waitForLogin'&& next === 'ready'){\r\n\r\n    }*/\r\n  }\r\n\r\n\r\n  render() {\r\n    this.init(this.props);\r\n\r\n    const mainStyle = {\r\n      width: this.ui.windowWidth * 0.9999,\r\n      height: this.ui.windowHeight * 0.9999,\r\n      minHeight: this.bs.height,\r\n      backgroundImage: 'url(' + background + ')',\r\n      backgroundSize: '10% 10%',\r\n      display: 'flex',\r\n      flexFlow: 'row nowrap',\r\n      justifyContent: 'center',\r\n\r\n      boxSizing: 'border-box',\r\n      overflow: 'hidden'\r\n    }\r\n    return (\r\n      <div style={mainStyle}>\r\n        <Pages app={this.app}/>\r\n        <Modal app={this.app}/>\r\n      </div>\r\n    )\r\n  }\r\n\r\n}\r\n\r\nexport default Main;\r\n","import React, { Component } from 'react';\r\nimport { bindActionCreators} from 'redux';\r\nimport { connect } from \"react-redux\";\r\nimport axios from 'axios';\r\n\r\nimport * as main from './redux/actions/control/main';\r\nimport * as ui from './redux/actions/control/ui';\r\nimport * as modal from './redux/actions/control/modal';\r\nimport * as content from './redux/actions/control/content';\r\n\r\nimport * as user from './redux/actions/data/user';\r\nimport * as report from './redux/actions/data/report';\r\n\r\nimport Main from './components/main/Main';\r\n\r\nclass App extends Component {\r\n\r\n  api(){ return this.isDev()? process.env.REACT_APP_API_DEV: process.env.REACT_APP_API; }\r\n\r\n  isDev(){ return process.env.REACT_APP_DEV === 'true'; }\r\n\r\n  addZeroIfSingle(num){\r\n    if(num < 10){\r\n      return '0' + String(num);\r\n    }else{\r\n      return '' + String(num);\r\n    }\r\n  }\r\n\r\n  dateString(date) {\r\n    let year = date.getFullYear();\r\n    let monthIndex = date.getMonth() + 1;\r\n    let day = date.getDate();\r\n    let hour = date.getHours();\r\n    let min = date.getMinutes();\r\n\r\n    let dateStr = year + '-' + this.addZeroIfSingle(monthIndex) + '-' + this.addZeroIfSingle(day)\r\n    + ' ' + this.addZeroIfSingle(hour) + ':' + this.addZeroIfSingle(min);\r\n    //return '2018-02-08';\r\n    return dateStr;\r\n  }\r\n\r\n\r\n  multiLang(english, chinese, simplified_chinese){\r\n    switch (this.props.store.main.language) {\r\n      case 'english':\r\n        return english;\r\n      case 'chinese':\r\n        return chinese;\r\n      case 'simplified_chinese':\r\n        return simplified_chinese;\r\n      default:\r\n        return english;\r\n    }\r\n  }\r\n\r\n  async url(filename, type){\r\n    const actions = this.props.actions.content;\r\n    if(!filename){ /*console.log('no filename');*/ return ''};\r\n    const cachedUrl = this.props.store.content.cachedUrl[filename];\r\n    if(cachedUrl){\r\n      /*console.log(type + ' use cached url: ' + cachedUrl);*/\r\n      if(cachedUrl === 'processing...'){ return ''; }\r\n      return cachedUrl;\r\n    }\r\n    //console.log(filename + '- create url: processing...');\r\n    actions.cacheUrl(filename, 'processing...');\r\n    const localFile = await this.props.db.get(filename);\r\n    if(localFile){\r\n      //console.log(type + ' use localFile');\r\n      const url = URL.createObjectURL(localFile);\r\n      //console.log(filename + '- create url: ' + url);\r\n      actions.cacheUrl(filename, url);\r\n      return url;\r\n    }else{\r\n      //console.log(type + ' downloading...');\r\n      var downloadUrl = this.api() + '/download/'+ type + '/' + filename;\r\n      let err, res;\r\n      [err, res] = await to(axios.get(downloadUrl, {responseType: 'blob'}));\r\n      if(err || !res.data){ console.log('file download error!'); return '';}\r\n      this.props.db.set(filename, res.data);\r\n      const url = URL.createObjectURL(res.data);\r\n      actions.cacheUrl(filename, url);\r\n      return url;\r\n    }\r\n  }\r\n\r\n  render() {\r\n    const app = {\r\n      store: this.props.store,\r\n      actions: this.props.actions,\r\n      database: this.props.db,\r\n      functions: {\r\n        url: this.url.bind(this),\r\n        multiLang: this.multiLang.bind(this),\r\n        dateString: this.dateString.bind(this)\r\n      }\r\n    }\r\n    return (\r\n      <Main app={app}/>\r\n    );\r\n  }\r\n\r\n  componentDidMount() {\r\n    this.updateWindowDimensions();\r\n    window.addEventListener('resize', this.updateWindowDimensions.bind(this));\r\n  }\r\n\r\n  componentWillUnmount() {\r\n    window.removeEventListener('resize', this.updateWindowDimensions.bind(this));\r\n  }\r\n\r\n  updateWindowDimensions() {\r\n    this.props.actions.ui.setDimension({width: window.innerWidth,height: window.innerHeight});\r\n  }\r\n}\r\n\r\nfunction mapStateToProps(state, props) {\r\n  return { store: state }\r\n}\r\n\r\nfunction mapDispatchToProps(dispatch){\r\n  return {\r\n    actions: {\r\n      main: Action(main, dispatch),\r\n      ui: Action(ui, dispatch),\r\n      modal: Action(modal, dispatch),\r\n      content: Action(content, dispatch),\r\n\r\n      user: Action(user, dispatch),\r\n      report: Action(report, dispatch)\r\n    }\r\n  }\r\n}\r\n\r\nfunction Action(action, dispatch){\r\n  return bindActionCreators(action, dispatch)\r\n}\r\n\r\nfunction to(promise) {\r\n   return promise.then(data => {\r\n      return [null, data];\r\n   })\r\n   .catch(err => [err]);\r\n}\r\n\r\nexport default connect(mapStateToProps,mapDispatchToProps)(App);\r\n","import idb from 'idb';\r\n\r\nclass Database {\r\n  constructor() {\r\n    this.dbPromise = idb.open('database', 1, upgradeDB =>{\r\n      upgradeDB.createObjectStore('store')\r\n    });\r\n\r\n    this.get = this.get.bind(this);\r\n    this.set = this.set.bind(this);\r\n    this.delete = this.delete.bind(this);\r\n    this.clear = this.clear.bind(this);\r\n  }\r\n\r\n  get(key) {\r\n    return this.dbPromise.then(db => {\r\n      //console.log(key);\r\n      return db.transaction('store')\r\n        .objectStore('store').get(key);\r\n    }).catch(err=>{\r\n      console.log('db error, clearing db...');\r\n      this.clear();\r\n    })\r\n  }\r\n\r\n  set(key, val) {\r\n    return this.dbPromise.then(db => {\r\n      const tx = db.transaction('store', 'readwrite');\r\n      tx.objectStore('store').put(val, key);\r\n      //console.log(key, val);\r\n      return tx.complete;\r\n    })\r\n  }\r\n\r\n  delete(key) {\r\n    return this.dbPromise.then(db => {\r\n      const tx = db.transaction('store', 'readwrite');\r\n      tx.objectStore('store').delete(key);\r\n      return tx.complete;\r\n    })\r\n  }\r\n\r\n  clear() {\r\n    return this.dbPromise.then(db => {\r\n      const tx = db.transaction('store', 'readwrite');\r\n      tx.objectStore('store').clear();\r\n      return tx.complete;\r\n    })\r\n  }\r\n\r\n}\r\n\r\nexport default Database;\r\n","const mainReducer = (\r\n  state = {\r\n    status: 'init',\r\n    language: 'english',\r\n    version: 'v1.0.0'\r\n  }, action)=>{\r\n  switch (action.type) {\r\n    case 'setStatus':\r\n      return {...state, status: action.payload};\r\n    default:\r\n      return state;\r\n  }\r\n}\r\n\r\nexport default mainReducer;\r\n","const uiReducer = (\r\n  state = {\r\n    minWidth: 360,\r\n    maxWidth: 2048,\r\n    minHeight: 540,\r\n    maxHeight: 1440,\r\n    windowWidth: 0,\r\n    windowHeight: 0,\r\n    basicStyle: {\r\n      width: 0,\r\n      height: 0,\r\n      display: 'flex',\r\n      flexFlow: 'column nowrap',\r\n      alignItems: 'center'\r\n    },\r\n    styles: {\r\n      container: {\r\n        display: 'flex',\r\n        justifyContent: 'center',\r\n        alignItems: 'center',\r\n        backgroundSize: '100% 100%',\r\n        flexShrink: 0\r\n      },\r\n      area: {\r\n        width: '100%',\r\n        display: 'flex',\r\n        flexFlow: 'row warp'\r\n      },\r\n      border: {\r\n        borderStyle: 'solid',\r\n        borderWidth: '1px',\r\n        borderColor: '#dddddd'\r\n      },\r\n    },\r\n    colors: {\r\n      green: '#91c33b',\r\n      blue: '#2359a3',\r\n      deepBlue: '#0a2647',\r\n      textGrey: '#4a4a4a',\r\n      lightGrey: '#dddddd',\r\n    }\r\n  }, action)=>{\r\n  switch (action.type) {\r\n    case 'setDimension':\r\n      const windowWidth = action.payload.width;\r\n      const windowHeight = action.payload.height;\r\n      const basicStyle =\r\n      {...state.basicStyle,\r\n        width:\r\n        windowWidth < state.minWidth? state.minWidth:\r\n        windowWidth > state.maxWidth? state.maxWidth:\r\n        windowWidth * 0.9999,\r\n        height:\r\n        windowHeight < state.minHeight? state.minHeight:\r\n        windowHeight > state.maxHeight? state.maxHeight:\r\n        windowHeight * 0.9999};\r\n      return {...state,\r\n              windowWidth: windowWidth,\r\n              windowHeight: windowHeight,\r\n              basicStyle: basicStyle};\r\n    default:\r\n      return state;\r\n  }\r\n}\r\n\r\nexport default uiReducer;\r\n","const modalReducer = (\r\n  state = {\r\n    status: 'off',\r\n    english: '',\r\n    chinese: '',\r\n    simplified_chinese: '',\r\n    button: 'off',\r\n    onConfirm: null,\r\n    onCancel: null\r\n  }, action)=>{\r\n  switch (action.type) {\r\n    case 'confirm':\r\n      const payload = action.payload;\r\n      return {...state, status: 'on', button: 'confirm',\r\n      onConfirm: payload.onConfirm, onCancel: payload.onCancel,\r\n      english: payload.message[0], chinese: payload.message[1], simplified_chinese: payload.message[2]};\r\n    case 'message':\r\n      return {...state, status: 'on', button: 'on',\r\n      english: action.payload[0], chinese: action.payload[1], simplified_chinese: action.payload[2]};\r\n    case 'loadingMessage':\r\n      return {...state, status: 'on', button: 'off',\r\n      english: action.payload[0], chinese: action.payload[1], simplified_chinese: action.payload[2]};\r\n    case 'hideModal':\r\n      return {...state, status: 'off', button: 'off'};\r\n    default:\r\n      return state;\r\n  }\r\n}\r\n\r\nexport default modalReducer;\r\n","const contentReducer = (\r\n  state = {\r\n    view: '',\r\n    traces: [],\r\n    subView: '',\r\n    cachedUrl: {},\r\n  }, action)=>{\r\n  switch (action.type) {\r\n    case 'cacheUrl':\r\n      var newCachedUrl = state.cachedUrl;\r\n      newCachedUrl[action.payload.filename] = action.payload.url;\r\n     return {...state, cachedUrl: newCachedUrl}\r\n    case 'setSubView':\r\n      return {...state, subView: action.payload}\r\n    case 'backToHome':\r\n      return {...state, traces: state.traces.slice(0, 1), view: state.traces[0]};\r\n    case 'clearView':\r\n      return {...state, traces: [], view: ''};\r\n    case 'pullView':\r\n      if(state.traces.length === 0){ return state; }\r\n      return {...state, traces: state.traces.slice(0, state.traces.length - 1), view: state.traces[state.traces.length - 2]};\r\n    case 'pushView':\r\n      return {...state, traces: [...state.traces, action.payload], view: action.payload};\r\n    default:\r\n      return state;\r\n  }\r\n}\r\n\r\nexport default contentReducer;\r\n","const userReducer = (\r\n  state = {\r\n    id: '',\r\n    pw: '',\r\n    type: '',\r\n    createdAt: ''\r\n  }, action)=>{\r\n  switch (action.type) {\r\n    case 'setUser':\r\n      return action.payload;\r\n    default:\r\n      return state;\r\n  }\r\n}\r\n\r\nexport default userReducer;\r\n","\r\nvar reducer = {\r\n  updateElements: function (originals, newElements, idOnly, append){\r\n    //console.log(originals);\r\n    if(!newElements || newElements.length === 0){\r\n      return originals;\r\n    }\r\n    var updatedArray = originals.slice(0);\r\n    if(updatedArray.length === 0){\r\n      updatedArray = [newElements[0]];\r\n    }\r\n\r\n    for(var i=0;i<newElements.length;i++){\r\n      if(!newElements[i]){ continue; }\r\n      for(var j=0;j<updatedArray.length;j++){\r\n        if(!idOnly && (updatedArray[j]._id === newElements[i]._id)){\r\n          updatedArray[j] = {...updatedArray[j], ...newElements[i]};\r\n          break;\r\n        }\r\n        if(idOnly && (updatedArray[j] === newElements[i])){\r\n          updatedArray[j] = newElements[i];\r\n          break;\r\n        }\r\n        if(j === updatedArray.length - 1){\r\n          if(append){\r\n            updatedArray.splice(updatedArray.length,0,newElements[i]);\r\n          }else{\r\n            updatedArray.splice(0,0,newElements[i]);\r\n          }\r\n          break;\r\n        }\r\n      }\r\n    }\r\n    return updatedArray;\r\n  },\r\n  getElementIndex: function (data, element){\r\n    for(var i=0;i<data.length;i++){\r\n      if(data[i]._id === element._id){ return i; }\r\n    }\r\n  }\r\n\r\n}\r\n\r\nexport default reducer;\r\n","import reducer from '../reducer';\r\n\r\nconst reportReducer = (\r\n  state = {\r\n    reports: [],\r\n    viewingReport: {},\r\n    currentStage: 0\r\n  }, action)=>{\r\n  switch (action.type) {\r\n    case 'setCurrentStage':\r\n      const index = action.payload;\r\n      if(index < 0 || index > 4){ return state; }\r\n      return {...state, currentStage: action.payload};\r\n    case 'viewReport':\r\n      return {...state, viewingReport: action.payload};\r\n    case 'updateReports':\r\n      return {...state, reports: reducer.updateElements(state.reports, action.payload)};\r\n    default:\r\n      return state;\r\n  }\r\n}\r\n\r\nexport default reportReducer;\r\n","import { combineReducers } from \"redux\";\r\nimport main from './control/main';\r\nimport ui from './control/ui';\r\nimport modal from './control/modal';\r\nimport content from './control/content';\r\n\r\nimport user from './data/user';\r\nimport report from './data/report';\r\n\r\nconst rootReducer = combineReducers({\r\n  main,\r\n  ui,\r\n  modal,\r\n  content,\r\n\r\n  user,\r\n  report\r\n});\r\n\r\nexport default rootReducer;\r\n","import { applyMiddleware, createStore } from \"redux\";\r\nimport rootReducer from \"./reducers/root\";\r\nimport reduxLogger from \"redux-logger\";\r\nimport thunk from \"redux-thunk\"\r\n//import axios from \"axios\";\r\n\r\nconst error = (store) => (next) => (action) => {\r\n  try{\r\n    next(action);\r\n  } catch(err){\r\n    console.log(\"error! \", err);\r\n  }\r\n}\r\n\r\nvar middleware = null;\r\nif(process.env.REACT_APP_DEV === 'true'){\r\n  middleware = applyMiddleware(error, reduxLogger, thunk);\r\n  //middleware = applyMiddleware(error, thunk);\r\n}else{\r\n  middleware = applyMiddleware(error, thunk);\r\n}\r\nconst store = createStore(rootReducer,{},middleware);\r\n\r\nexport default store;\r\n","import './index.css';\r\nimport React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport { Provider } from 'react-redux';\r\nimport * as serviceWorker from './serviceWorker';\r\n\r\nimport App from './App';\r\nimport Database from './Database';\r\nimport store from './redux/store';\r\n\r\nReactDOM.render(  <Provider store={store}><App db={new Database()}/></Provider>\r\n  , document.getElementById('root'));\r\n\r\n// If you want your app to work offline and load faster, you can change\r\n// unregister() to register() below. Note this comes with some pitfalls.\r\n// Learn more about service workers: http://bit.ly/CRA-PWA\r\nserviceWorker.unregister();\r\n"],"sourceRoot":""}