{"version":3,"sources":["resources/images/general/no_image.png","resources/images/general/cross.png","resources/images/general/background.png","serviceWorker.js","redux/actions/control/main.js","redux/actions/control/ui.js","redux/actions/control/modal.js","redux/actions/control/content.js","redux/actions/actions.js","redux/actions/data/user.js","redux/actions/data/report.js","components/URL.js","components/main/items/ui/Button.js","components/main/items/ui/Input.js","components/UI.js","components/main/pages/login/Login.js","components/main/pages/home/views/View.js","components/main/items/rows/ReportRow.js","components/main/items/rows/Row.js","components/main/pages/home/views/Entry.js","components/main/items/ui/Image.js","components/main/extend/PhotoViewer.js","components/main/pages/home/Home.js","components/main/pages/Pages.js","components/main/Modal.js","components/main/Main.js","App.js","Database.js","redux/reducers/control/main.js","redux/reducers/control/ui.js","redux/reducers/control/modal.js","redux/reducers/control/content.js","redux/reducers/data/user.js","redux/reducers/reducer.js","redux/reducers/data/report.js","redux/reducers/root.js","redux/store.js","index.js"],"names":["module","exports","__webpack_require__","p","Boolean","window","location","hostname","match","setPhotoViewer","status","type","payload","setStatus","setDimension","dimension","confirm","message","onConfirm","onCancel","showModalButton","hideModal","cacheUrl","filename","url","setSubView","subView","backToHome","clearView","pushView","view","pullView","connecting","dispatch","connectionError","to","promise","then","data","catch","err","actions","api","process","login","id","pw","console","log","_ref","Object","asyncToGenerator","regenerator_default","a","mark","_callee","res","_ref2","_ref3","wrap","_context","prev","next","axios","get","headers","sent","slicedToArray","abrupt","result","user","stop","this","_x","apply","arguments","logout","reload","fetchReports","reports","submit","report","photoBlob","signatureBlob","_ref4","_callee2","photoFile","signatureFile","photoRes","signatureRes","reportRes","_ref5","_ref6","_ref7","_ref8","photo","signature","reportToUpload","_ref9","_ref10","_context2","FormData","append","post","filenames","objectSpread","latitude","geoLocated","longitude","submitted","_x2","setCurrentStage","index","viewReport","URL","app","classCallCheck","init","func","functions","unmounted","useBlob","urlToBlob","blob","main","fetch","Button","ui","store","bs","basicStyle","text","size","onClick","style","width","height","background","color","fontWeight","fontSize","borderStyle","borderWidth","borderColor","button","margin","position","top","right","opacity","icon_cross","customStyle","imageUrl","key","styles","backgroundImage","react_default","createElement","multiLang","border","cursor","backgroundSize","backgroundColor","flexShrink","Input","scale","options","defaultValue","onChange","barStyle","display","flexFlow","justifyContent","event","map","option","i","value","placeholder","textAreaStyle","inputStyle","colors","grey","UI","_this","props","buttons","inputs","newProps","checkUrl","state","getUrl","db","database","textAlign","overflow","overflowWrap","textGrey","minWidth","Component","Login","titleStyle","green","inputSize","title","gap","inputField","rectGreen","_id","document","getElementById","_pw","View","possibleConstructorReturn","getPrototypeOf","call","checkViewTransition","setState","content","deadView","isOpen","_option","_this2","stiffness","damping","precision","react_motion","defaultStyle","spring","onRest","animatedView","alignItems","overflowY","animatedStyle","pointerEvents","ReportRow","rowStyle","outDated","lastModified","description","submitTime","category","subCategory","verSep","lightGrey","region","coordinate","reporter","area","textDisplay","dateString","Date","createdAt","animatedRow","bind","marginTop","itemStyle","rowIcon","timeString","catagory","problem","Math","round","animatedAlert","rowInfo","infoStyle","marginLeft","rowTitle","nameStyle","defaultUrl","iconSize","containerStyle","container","borderRadius","iconStyle","maxWidth","maxHeight","no_image","src","alt","onDead","selected","Entry","verGap","standard","blue","tableBar","reportRows","deepBlue","tableBarItems","item","rows_ReportRow","viewStyle","topBar","table","Image","newFilename","_this3","photoUrl","imgBg","imgSize","backgroundStyle","buttonStyle","noEnlarge","onImageClick","PhotoViewer","viewingReport","ui_Image","photoViewer","viewerStyle","minHeight","count","photoSelectBar","absoluteClose","Home","views_Entry","pageStyle","views","extend_PhotoViewer","Pages","login_Login","home_Home","page","Modal","boardStyle","buttonsArea","modal","language","modalStyle","showBtn","board","fontFamily","padding","writingMode","Main","mainStyle","windowWidth","windowHeight","boxSizing","pages_Pages","main_Modal","App","isDev","num","String","date","year","getFullYear","monthIndex","getMonth","day","getDate","getHours","getMinutes","addZeroIfSingle","hour","min","english","chinese","simplified_chinese","cachedUrl","localFile","createObjectURL","downloadUrl","responseType","set","main_Main","updateWindowDimensions","addEventListener","removeEventListener","innerWidth","innerHeight","Action","action","bindActionCreators","connect","Database","dbPromise","idb","open","upgradeDB","createObjectStore","delete","clear","transaction","objectStore","val","tx","put","complete","mainReducer","length","undefined","version","uiReducer","modalReducer","contentReducer","traces","newCachedUrl","slice","toConsumableArray","concat","userReducer","reducer","updateElements","originals","newElements","idOnly","updatedArray","j","splice","getElementIndex","element","reportReducer","currentStage","rootReducer","combineReducers","middleware","applyMiddleware","thunk","createStore","ReactDOM","render","es","src_App","navigator","serviceWorker","ready","registration","unregister"],"mappings":"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","file":"static/js/main.4e67465f.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/no_image.57f701ae.png\";","module.exports = \"data:image/png;base64,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\"","module.exports = __webpack_public_path__ + \"static/media/background.c8dead68.png\";","// This optional code is used to register a service worker.\r\n// register() is not called by default.\r\n\r\n// This lets the app load faster on subsequent visits in production, and gives\r\n// it offline capabilities. However, it also means that developers (and users)\r\n// will only see deployed updates on subsequent visits to a page, after all the\r\n// existing tabs open on the page have been closed, since previously cached\r\n// resources are updated in the background.\r\n\r\n// To learn more about the benefits of this model and instructions on how to\r\n// opt-in, read http://bit.ly/CRA-PWA\r\n\r\nconst isLocalhost = Boolean(\r\n  window.location.hostname === 'localhost' ||\r\n    // [::1] is the IPv6 localhost address.\r\n    window.location.hostname === '[::1]' ||\r\n    // 127.0.0.1/8 is considered localhost for IPv4.\r\n    window.location.hostname.match(\r\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\r\n    )\r\n);\r\n\r\nexport function register(config) {\r\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\r\n    // The URL constructor is available in all browsers that support SW.\r\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\r\n    if (publicUrl.origin !== window.location.origin) {\r\n      // Our service worker won't work if PUBLIC_URL is on a different origin\r\n      // from what our page is served on. This might happen if a CDN is used to\r\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\r\n      return;\r\n    }\r\n\r\n    window.addEventListener('load', () => {\r\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\r\n\r\n      if (isLocalhost) {\r\n        // This is running on localhost. Let's check if a service worker still exists or not.\r\n        checkValidServiceWorker(swUrl, config);\r\n\r\n        // Add some additional logging to localhost, pointing developers to the\r\n        // service worker/PWA documentation.\r\n        navigator.serviceWorker.ready.then(() => {\r\n          console.log(\r\n            'This web app is being served cache-first by a service ' +\r\n              'worker. To learn more, visit http://bit.ly/CRA-PWA'\r\n          );\r\n        });\r\n      } else {\r\n        // Is not localhost. Just register service worker\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    });\r\n  }\r\n}\r\n\r\nfunction registerValidSW(swUrl, config) {\r\n  navigator.serviceWorker\r\n    .register(swUrl)\r\n    .then(registration => {\r\n      registration.onupdatefound = () => {\r\n        const installingWorker = registration.installing;\r\n        if (installingWorker == null) {\r\n          return;\r\n        }\r\n        installingWorker.onstatechange = () => {\r\n          if (installingWorker.state === 'installed') {\r\n            if (navigator.serviceWorker.controller) {\r\n              // At this point, the updated precached content has been fetched,\r\n              // but the previous service worker will still serve the older\r\n              // content until all client tabs are closed.\r\n              console.log(\r\n                'New content is available and will be used when all ' +\r\n                  'tabs for this page are closed. See http://bit.ly/CRA-PWA.'\r\n              );\r\n\r\n              // Execute callback\r\n              if (config && config.onUpdate) {\r\n                config.onUpdate(registration);\r\n              }\r\n            } else {\r\n              // At this point, everything has been precached.\r\n              // It's the perfect time to display a\r\n              // \"Content is cached for offline use.\" message.\r\n              console.log('Content is cached for offline use.');\r\n\r\n              // Execute callback\r\n              if (config && config.onSuccess) {\r\n                config.onSuccess(registration);\r\n              }\r\n            }\r\n          }\r\n        };\r\n      };\r\n    })\r\n    .catch(error => {\r\n      console.error('Error during service worker registration:', error);\r\n    });\r\n}\r\n\r\nfunction checkValidServiceWorker(swUrl, config) {\r\n  // Check if the service worker can be found. If it can't reload the page.\r\n  fetch(swUrl)\r\n    .then(response => {\r\n      // Ensure service worker exists, and that we really are getting a JS file.\r\n      const contentType = response.headers.get('content-type');\r\n      if (\r\n        response.status === 404 ||\r\n        (contentType != null && contentType.indexOf('javascript') === -1)\r\n      ) {\r\n        // No service worker found. Probably a different app. Reload the page.\r\n        navigator.serviceWorker.ready.then(registration => {\r\n          registration.unregister().then(() => {\r\n            window.location.reload();\r\n          });\r\n        });\r\n      } else {\r\n        // Service worker found. Proceed as normal.\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    })\r\n    .catch(() => {\r\n      console.log(\r\n        'No internet connection found. App is running in offline mode.'\r\n      );\r\n    });\r\n}\r\n\r\nexport function unregister() {\r\n  if ('serviceWorker' in navigator) {\r\n    navigator.serviceWorker.ready.then(registration => {\r\n      registration.unregister();\r\n    });\r\n  }\r\n}\r\n","export const setPhotoViewer = (status) =>{\r\n  return {\r\n    type: 'setPhotoViewer',\r\n    payload: status\r\n  }\r\n}\r\n\r\nexport const setStatus = (status) =>{\r\n  return {\r\n    type: 'setStatus',\r\n    payload: status\r\n  }\r\n}\r\n","export const setDimension = (dimension) =>{\r\n  //console.log('Action: setDimension')\r\n  return {\r\n    type: 'setDimension',\r\n    payload: dimension\r\n  }\r\n}\r\n","export const confirm = (message, onConfirm, onCancel) =>{\r\n  return {\r\n    type: 'confirm',\r\n    payload: { message: message, onConfirm: onConfirm, onCancel: onCancel }\r\n  }\r\n}\r\n\r\nexport const message = (message) =>{\r\n  return {\r\n    type: 'message',\r\n    payload: message\r\n  }\r\n}\r\n\r\nexport const showModalButton = () =>{\r\n  return {\r\n    type: 'showModalButton',\r\n  }\r\n}\r\n\r\nexport const hideModal = () =>{\r\n  return {\r\n    type: 'hideModal',\r\n  }\r\n}\r\n","\r\nexport const cacheUrl = (filename, url) =>{\r\n  return {\r\n    type: 'cacheUrl',\r\n    payload: { filename: filename, url: url }\r\n  }\r\n}\r\n\r\nexport const setSubView = (subView) =>{\r\n  return {\r\n    type: 'setSubView',\r\n    payload: subView\r\n  }\r\n}\r\n\r\nexport const backToHome = () =>{\r\n  return {\r\n    type: 'backToHome'\r\n  }\r\n}\r\n\r\nexport const clearView = () =>{\r\n  return {\r\n    type: 'clearView'\r\n  }\r\n}\r\n\r\nexport const pushView = (view) =>{\r\n  return {\r\n    type: 'pushView',\r\n    payload: view\r\n  }\r\n}\r\n\r\nexport const pullView = () =>{\r\n  return {\r\n    type: 'pullView'\r\n  }\r\n}\r\n","\r\nexport function connecting(dispatch){\r\n  dispatch({type: \"loadingMessage\", payload: ['Connecting...', '連線中...', '连线中...']});\r\n}\r\n\r\nexport function connectionError(dispatch){\r\n  dispatch({type: \"message\", payload: ['Connection error, Please try again!', '網絡出現問題，請再試一次!', '网络出现问题，请再试一次!']});\r\n}\r\n\r\nexport function updateSuccess(dispatch){\r\n  dispatch({type: \"message\", payload: ['Update succeed!', '更改成功!', '更改成功!']});\r\n}\r\n\r\nexport function updateFailed(dispatch){\r\n  dispatch({type: \"message\", payload: ['Update failed! Please try again!', '更改失敗! 請再試一次!', '更改失敗! 請再試一次!']});\r\n}\r\n\r\nexport function api(){ return process.env.REACT_APP_DEV === 'true'? process.env.REACT_APP_API_DEV: process.env.REACT_APP_API; }\r\n\r\nexport function to(promise) {\r\n   return promise.then(data => {\r\n      return [null, data];\r\n   })\r\n   .catch(err => [err]);\r\n}\r\n","import axios from 'axios';\r\nimport * as actions from '../actions';\r\n\r\nvar to = actions.to;\r\nvar api = actions.api();\r\n\r\nexport function login (id, pw) {\r\n  console.log(api);\r\n  console.log(id + ' ' + pw);\r\n  return async function (dispatch) {\r\n    actions.connecting(dispatch);\r\n\r\n    let err, res;\r\n    [err, res] = await to(axios.get(api + '/user/login',{ headers: { id: 'abc', pw: '123' }}));\r\n    if(err){ actions.connectionError(dispatch); return; }\r\n\r\n    if(res.data.result === 'succeed'){\r\n      console.log(res.data);\r\n      dispatch({type: 'setUser', payload: res.data.user});\r\n      dispatch({type: 'setStatus', payload: 'ready'});\r\n      dispatch({type: 'hideModal'});\r\n    }else{\r\n      dispatch({type: 'message', payload: ['Login failed! Invalid id or password!', '登入失敗! 名稱或密碼不正確!', '登入失败! 名称或密码不正确!']});\r\n    }\r\n\r\n  }\r\n}\r\n\r\nexport function logout() {\r\n  return function (dispatch) {\r\n    //dispatch({type: 'setStatus', payload: 'waitForLogin'});\r\n    window.location.reload();\r\n  }\r\n}\r\n","import axios from 'axios';\r\nimport * as actions from '../actions';\r\n\r\nvar to = actions.to;\r\nvar api = actions.api();\r\n\r\nexport function fetchReports(){\r\n  return async function (dispatch){\r\n    //console.log('fetching');\r\n    let err, res;\r\n    [err, res] = await to(axios.get(api + '/report/fetchAll'));\r\n    if(err){actions.connectionError(dispatch); return;}\r\n\r\n    if(res.data.result === 'succeed'){\r\n      dispatch({type: 'updateReports', payload: res.data.reports});\r\n    }else{\r\n      actions.connectionError(dispatch);\r\n    }\r\n  }\r\n}\r\n\r\nexport function submit (report, photoBlob, signatureBlob) {\r\n  return async function (dispatch) {\r\n    //console.log(report);\r\n    actions.connecting(dispatch);\r\n\r\n    var photoFile = new FormData();\r\n    photoFile.append('files', photoBlob, 'photo.png');\r\n    var signatureFile = new FormData();\r\n    signatureFile.append('files', signatureBlob, 'signature.png');\r\n\r\n    let err, photoRes, signatureRes, reportRes;\r\n    [err, photoRes] = await to(axios.post(api + '/upload', photoFile, { headers: { type: 'photo'}}))\r\n    if(err){actions.connectionError(dispatch); return;}\r\n    [err, signatureRes] = await to(axios.post(api + '/upload', signatureFile, { headers: { type: 'signature'}}))\r\n    if(err){actions.connectionError(dispatch); return;}\r\n\r\n    const photo = photoRes.data.filenames[0];\r\n    const signature = signatureRes.data.filenames[0];\r\n\r\n    var reportToUpload = {...report, ...{photo: photo, signature: signature} };\r\n    [err, reportRes] = await to(axios.post(api + '/report/add', { data: {\r\n      report: reportToUpload, latitude: report.geoLocated.latitude, longitude: report.geoLocated.longitude} }));\r\n    if(err){actions.connectionError(dispatch); return;}\r\n\r\n    if(reportRes.data.result === 'succeed'){\r\n      dispatch({type: 'hideModal'});\r\n      dispatch({type: 'updateReports', payload: [reportRes.data.report]});\r\n      dispatch({type: 'viewReport', payload: { submitted: true }});\r\n      dispatch({type: 'setCurrentStage', payload: 4 });\r\n    }else{\r\n      console.log(reportRes.data.result);\r\n      dispatch({type: 'message', payload: ['Submit failed! Please try again!', '提交失敗! 請再試一次!', '提交失败! 请再试一次!']});\r\n    }\r\n  }\r\n}\r\n\r\nexport const setCurrentStage = (index) =>{\r\n  return {\r\n    type: 'setCurrentStage',\r\n    payload: index\r\n  }\r\n}\r\n\r\nexport const viewReport = (report) =>{\r\n  return {\r\n    type: 'viewReport',\r\n    payload: report\r\n  }\r\n}\r\n","class URL {\r\n\r\n  constructor(app){\r\n    this.init(app);\r\n  }\r\n\r\n  init(app){\r\n    this.func = app.functions;\r\n    this.actions = app.actions;\r\n  }\r\n\r\n  async getUrl(filename, type){\r\n    //console.log('get url: ' + filename);\r\n    const url = await this.func.url(filename, type);\r\n    //console.log(url);\r\n    if(!this.unmounted && url && url !== this.url){\r\n      this.url = url;\r\n      if(this.useBlob){\r\n        this.blob = await this.urlToBlob(url);\r\n      }\r\n      //console.log('get url');\r\n      this.actions.main.setStatus('ready');\r\n    }\r\n  }\r\n\r\n  async urlToBlob(url){\r\n    if(!url){ return null; }\r\n    const res = await fetch(url).catch(err=>{ return null; });\r\n    const blob = await res.blob().catch(err=>{ return null; });\r\n    return blob;\r\n  }\r\n\r\n  componentWillUnmount(){ this.unmounted = true; }\r\n\r\n}\r\n\r\nexport default URL;\r\n","import React from 'react';\r\nimport icon_cross from 'resources/images/general/cross.png';\r\n\r\nclass Button {\r\n\r\n  constructor(app){\r\n    this.init(app);\r\n  }\r\n\r\n  init(app){\r\n    this.app = app;\r\n    this.ui = app.store.ui;\r\n    this.bs = this.ui.basicStyle;\r\n    this.func = app.functions;\r\n    this.actions = app.actions;\r\n  }\r\n\r\n  rectGreen(text, size, onClick){\r\n    const style = {\r\n      width: size[0],\r\n      height: size[1],\r\n      background: 'linear-gradient(to bottom, #008901 0%, #91c33b 100%)',\r\n      color: 'white',\r\n      fontWeight: 'bold',\r\n      fontSize: '100%',\r\n      borderStyle: 'solid',\r\n      borderWidth: '1px',\r\n      borderColor: '#008901'\r\n    }\r\n    return this.button(style, text, '', onClick, 'rectGreen')\r\n  }\r\n\r\n  absoluteClose(onClick){\r\n    const style = {\r\n      width: this.bs.height * 0.04,\r\n      height: this.bs.height * 0.04,\r\n      margin: this.bs.width * 0.015,\r\n      position: 'absolute',\r\n      top: 0,\r\n      right: 0,\r\n      opacity: 0.25\r\n    }\r\n    return this.button(style, ['',''], icon_cross, onClick)\r\n  }\r\n\r\n  standard(color, text, onClick){\r\n    const style = {\r\n      width: this.bs.height * 0.135,\r\n      height: this.bs.height * 0.065,\r\n      background: color,\r\n      color: 'white',\r\n      fontWeight: 'normal',\r\n      fontSize: '100%'\r\n    }\r\n    return this.button(style, text, '', onClick, 'standard' + text)\r\n  }\r\n\r\n  button(customStyle, text, imageUrl, onClick, key){\r\n    var style = {...styles.button, ...customStyle }\r\n    if(imageUrl && imageUrl !== ''){\r\n      style = {...style, ...{ backgroundImage: 'url(' + imageUrl + ')' }}\r\n    }\r\n    return(\r\n    <button style={style} key={key} onClick={onClick}>\r\n    {this.func.multiLang(text[0],text[1], text[2])}</button>)\r\n  }\r\n\r\n}\r\n\r\nconst styles = {\r\n  button:{\r\n    border: 'none',\r\n    cursor: 'pointer',\r\n    backgroundSize: '100% 100%',\r\n    backgroundColor: 'transparent',\r\n    fontWeight: 'bold',\r\n    fontSize: '100%',\r\n    color: 'white',\r\n    flexShrink: 0,\r\n    position: 'relative'\r\n  }\r\n}\r\n\r\nexport default Button;\r\n","import React from 'react';\r\n\r\nclass Input {\r\n\r\n  constructor(app){\r\n    this.init(app);\r\n  }\r\n\r\n  init(app){\r\n    this.app = app;\r\n    this.ui = app.store.ui;\r\n    this.bs = this.ui.basicStyle;\r\n    this.func = app.functions;\r\n  }\r\n\r\n  optionBar(id, scale, options, defaultValue, onChange){\r\n    const barStyle = {\r\n      width: scale[0],\r\n      height: scale[1],\r\n      fontSize: '125%',\r\n      display: 'flex',\r\n      flexFlow: 'row nowrap',\r\n      justifyContent: 'center',\r\n      backgroundColor: 'white',\r\n      flexShrink: 0\r\n    }\r\n\r\n    return(\r\n      <select id={id} style={barStyle} defaultValue={defaultValue} onChange={onChange?(event)=>{onChange(event)}:null}>\r\n        {options.map((option, i)=>{\r\n          return <option key={i}>{option}</option>\r\n        })}\r\n      </select>\r\n    )\r\n  }\r\n\r\n  dateField(id, type, value){\r\n    const inputStyle = {\r\n      width: '50%',\r\n      height: '4%',\r\n      fontSize: '100%',\r\n      margin: '2%',\r\n      flexShrink: 0\r\n    }\r\n    return <input id={id} type={type} defaultValue={value} style={inputStyle} />\r\n  }\r\n\r\n  textArea(id, placeholder, value, onChange, scale, fontSize){\r\n    const textAreaStyle = {\r\n      width: scale? scale[0]: this.bs.width * 0.67,\r\n      height: scale? scale[1]: this.bs.height * 0.15,\r\n      fontSize: fontSize? fontSize: '175%',\r\n      flexShrink: 0\r\n    }\r\n    return <textarea id={id} style={textAreaStyle} defaultValue={value} onChange={onChange?onChange:null} placeholder={placeholder?this.func.multiLang(placeholder[0],placeholder[1],placeholder[2]):''}/>\r\n  }\r\n\r\n  inputField(id, type, placeholder, size, value, onChange){\r\n    const inputStyle = {\r\n      width: size[0],\r\n      height: size[1],\r\n      fontSize: size[1],\r\n      color: this.ui.colors.grey,\r\n      flexShrink: 0\r\n    }\r\n    return(\r\n      <input id={id} type={type} style={inputStyle}\r\n      placeholder={this.func.multiLang(placeholder[0], placeholder[1], placeholder[2])}\r\n      defaultValue={value}\r\n      onChange={onChange}/>\r\n    )\r\n  }\r\n\r\n}\r\n\r\nexport default Input;\r\n","import React, { Component } from 'react';\r\nimport URL from './URL';\r\nimport Button from 'components/main/items/ui/Button';\r\nimport Input from 'components/main/items/ui/Input';\r\n\r\nclass UI extends Component {\r\n  url = new URL(this.props.app);\r\n  buttons = new Button(this.props.app);\r\n  inputs = new Input(this.props.app);\r\n\r\n  componentWillReceiveProps(newProps){\r\n    this.init(newProps);\r\n    this.checkUrl();\r\n  }\r\n\r\n  checkUrl(){\r\n    if(this.state && this.state.filename){\r\n      //console.log('getting url: ' + this.state.filename);\r\n      this.url.getUrl(this.state.filename, this.state.type);\r\n    }else{\r\n      //console.log('no filename in state');\r\n    }\r\n  }\r\n\r\n  init(props){\r\n    this.app = props.app;\r\n    this.ui = this.app.store.ui;\r\n    this.bs = this.ui.basicStyle;\r\n    this.store = this.app.store;\r\n    this.func = this.app.functions;\r\n    this.db = this.app.database;\r\n    this.actions = this.app.actions;\r\n\r\n    this.url.init(props.app);\r\n  }\r\n\r\n  textDisplay(text, scale, fontSize, textAlign, color, key){\r\n    const style = {\r\n      width: scale? scale[0]: '100%',\r\n      height: scale? scale[1]: '',\r\n      margin: '1%',\r\n      fontSize: fontSize? fontSize: '100%',\r\n      fontWeight: 'normal',\r\n      textAlign: textAlign? textAlign: 'left',\r\n      overflow: 'hidden',\r\n      overflowWrap: 'break-word',\r\n      color: color? color: this.ui.colors.textGrey,\r\n      flexShrink: 0\r\n    }\r\n    return <div key={key? key:'defaultKey' + text} style={style}>{text}</div>\r\n  }\r\n\r\n  gap(height){\r\n    return <div style={{height: height, width: '100%', flexShrink: 0}} />\r\n  }\r\n\r\n  sep(){\r\n    return <div style={{height: '1px', width: '100%', backgroundColor:'black', opacity: 0.15, flexShrink: 0}} />\r\n  }\r\n\r\n  verGap(width){\r\n    return <div style={{minWidth: width, height: '100%', flexShrink: 0}}/>\r\n  }\r\n\r\n  verSep(color, height){\r\n    return <div style={{backgroundColor: color, width: '1px', height: height, flexShrink: 0}}/>\r\n  }\r\n}\r\n\r\nexport default UI;\r\n","import React from 'react';\r\nimport UI from 'components/UI';\r\n\r\nclass Login extends UI {\r\n\r\n  title(){\r\n    const titleStyle = {\r\n      color: this.ui.colors.green,\r\n      fontSize: this.bs.height * 0.1,\r\n      fontWeight: 'bold'\r\n    }\r\n    return <div style={titleStyle}>SiteTracker</div>\r\n  }\r\n\r\n  render(){\r\n    this.init(this.props);\r\n    const inputSize = [this.bs.width * 0.35, this.bs.width * 0.035]\r\n    return(\r\n      <div style={{...this.bs, ...{ justifyContent: 'center'}}}>\r\n        {this.title()}\r\n        {this.gap('6%')}\r\n        {this.inputs.inputField('id', 'text', ['Login id','登入名稱'], inputSize)}\r\n        {this.gap('3%')}\r\n        {this.inputs.inputField('pw', 'password', ['Password','密碼'], inputSize)}\r\n        {this.gap('6%')}\r\n        {this.buttons.rectGreen(['Login','登入'], inputSize, ()=>{ this.login(); })}\r\n      </div>\r\n    )\r\n  }\r\n\r\n  login(id, pw){\r\n    const _id = id? id: document.getElementById('id').value;\r\n    const _pw = pw? pw: document.getElementById('pw').value;\r\n    //if(_id.length < 5 || _pw.length < 5){ return; }\r\n    this.props.app.actions.user.login(_id, _pw);\r\n  }\r\n}\r\n\r\nexport default Login;\r\n","import React from 'react';\r\nimport UI from 'components/UI';\r\nimport {Motion, spring}  from 'react-motion';\r\n\r\nclass View extends UI {\r\n\r\n  constructor(props){\r\n    super(props);\r\n    this.init(props);\r\n    this.state = {}\r\n  }\r\n\r\n  componentWillReceiveProps(newProps){\r\n    this.checkViewTransition(newProps);\r\n  }\r\n\r\n  checkViewTransition(newProps){\r\n    if(!this.state){ return; }\r\n    this.setState({\r\n      view: newProps.app.store.content.subView,\r\n      deadView: this.state.view !== newProps.app.store.content.subView? this.state.view: this.state.deadView\r\n    });\r\n  }\r\n\r\n  animatedView(content, view, isOpen, _option){\r\n    //console.log(view);\r\n    const option = _option? _option: {stiffness: 100, damping: 50, precision: 3}\r\n    return(\r\n      <Motion key={view} defaultStyle={{opacity: isOpen? 0:1}}\r\n      style={{opacity: isOpen?spring(1, option):spring(0, option)}}\r\n      onRest={!isOpen? ()=>{ this.setState({deadView: null}); }: null }>\r\n        {style=>(\r\n          content(view, style)\r\n        )}\r\n      </Motion>\r\n    )\r\n  }\r\n\r\n  animatedSubView(content, view, isOpen){\r\n    const option = {stiffness: 1000, damping: 50, precision: 9}\r\n    return this.animatedView(content, view, isOpen, option)\r\n  }\r\n\r\n  viewStyle(){\r\n    return {...this.bs, ...{\r\n      height: this.bs.height * 1,\r\n      position: 'relative',\r\n      justifyContent: 'flex-start',\r\n      alignItems: 'center',\r\n      overflowY: 'auto',\r\n      backgroundColor: 'white',\r\n      opacity: this.app.animatedStyle.opacity,\r\n      pointerEvents: this.app.animatedStyle.opacity === 1? '':'none'\r\n    }}\r\n  }\r\n\r\n  viewContentStyle(){\r\n    return {\r\n      width: '100%',\r\n      display: 'flex',\r\n      flexFlow: 'column nowrap',\r\n      flexShrink: 0,\r\n      justifyContent: 'flex-start',\r\n      alignItems: 'center',\r\n      overflowY: 'auto',\r\n      backgroundColor: 'white'\r\n    }\r\n  }\r\n\r\n}\r\n\r\nexport default View;\r\n","import React from 'react';\r\nimport Row from './Row';\r\n\r\nclass ReportRow extends Row {\r\n\r\n  constructor(props){\r\n    super(props);\r\n    this.init(props);\r\n    this.state = {\r\n      filename: this.props.report? this.props.report.photo[0]: null,\r\n      type: 'photo'\r\n    }\r\n    this.checkUrl();\r\n  }\r\n\r\n  componentWillReceiveProps(newProps){\r\n    this.init(newProps);\r\n    if(newProps.report && !this.state.filename){\r\n      this.setState({\r\n        filename: newProps.report.photo,\r\n        type: 'photo'\r\n      })\r\n    }\r\n    this.checkUrl();\r\n  }\r\n\r\n  rowInfo(){\r\n    const report = this.props.report;\r\n\r\n    const rowStyle = {...this.ui.styles.area, ...{\r\n      width: '100%',\r\n      height: this.bs.height * 0.06,\r\n      justifyContent: 'flex-start',\r\n      alignItems: 'flex-end'\r\n    }}\r\n    return(\r\n      <div style={rowStyle}>\r\n        {this.textDisplay(this.func.dateString(new Date(report.createdAt)), ['',''], '150%', '', this.ui.colors.lightGrey)}\r\n      </div>\r\n    )\r\n  }\r\n\r\n  render(){\r\n    if(this.props.report === null){ return null; }\r\n    return this.animatedRow(this.content.bind(this), this.bs.height * 0.2)\r\n  }\r\n\r\n  content = (style)=>(\r\n      <div style={{...this.rowStyle(), ...{\r\n        height: style.height,\r\n        opacity: style.opacity * this.outDated? 0.5:1\r\n      }}}>\r\n        {this.lastModified()}\r\n        {this.description()}\r\n        {this.submitTime()}\r\n        {this.category()}\r\n        {this.subCategory()}\r\n\r\n        {this.verSep(this.ui.colors.lightGrey, '75%')}\r\n        {this.region()}\r\n        {this.status()}\r\n        {this.coordinate()}\r\n\r\n        {this.verSep(this.ui.colors.lightGrey, '75%')}\r\n        {this.reporter()}\r\n        {this.signature()}\r\n      </div>\r\n  )\r\n\r\n  text(text){\r\n    return this.textDisplay(text,['100%',this.bs.height * 0.035], this.bs.height * 0.025,\r\n    'center',this.ui.colors.textGrey);\r\n  }\r\n\r\n  itemStyle(width){\r\n    return {...this.bs, ...{\r\n      width: width? width: this.bs.width * 0.15,\r\n      height: this.bs.height * 0.2,\r\n      justifyContent: 'flex-start',\r\n      marginTop: '1%'\r\n    }}\r\n  }\r\n\r\n  lastModified(){\r\n    return (\r\n      <div style={this.itemStyle(this.bs.width * 0.16)}>\r\n        {this.rowIcon(null, ()=>{\r\n          this.actions.main.setPhotoViewer(0);\r\n          this.actions.report.viewReport(this.props.report);\r\n        } )}\r\n        {this.gap('5%')}\r\n        {this.text(this.func.dateString(new Date(this.props.report.createdAt)))}\r\n      </div>\r\n    )\r\n  }\r\n\r\n  description(){\r\n    return (\r\n      <div style={this.itemStyle()}>\r\n        {this.text(this.props.report.description)}\r\n      </div>\r\n    )\r\n  }\r\n\r\n  submitTime(){\r\n    return (\r\n      <div style={this.itemStyle()}>\r\n        {this.text(this.func.dateString(new Date(this.props.report.createdAt)))}\r\n        {this.text(this.func.timeString(new Date(this.props.report.createdAt)))}\r\n      </div>\r\n    )\r\n  }\r\n\r\n  category(){\r\n    return (\r\n      <div style={this.itemStyle()}>\r\n        {this.text(this.props.report.catagory)}\r\n      </div>\r\n    )\r\n  }\r\n\r\n  subCategory(){\r\n    return (\r\n      <div style={this.itemStyle()}>\r\n        {this.text(this.props.report.problem)}\r\n      </div>\r\n    )\r\n  }\r\n\r\n  region(){\r\n    return (\r\n      <div style={this.itemStyle()}>\r\n        {this.text('region')}\r\n      </div>\r\n    )\r\n  }\r\n\r\n  status(){\r\n    return (\r\n      <div style={this.itemStyle()}>\r\n        {this.text('status')}\r\n      </div>\r\n    )\r\n  }\r\n\r\n  coordinate(){\r\n    return (\r\n      <div style={this.itemStyle()}>\r\n        {this.text(Math.round(this.props.report.geoLocated.latitude * 100) / 100)}\r\n        {this.text(Math.round(this.props.report.geoLocated.longitude * 100) / 100)}\r\n      </div>\r\n    )\r\n  }\r\n\r\n  reporter(){\r\n    return (\r\n      <div style={this.itemStyle()}>\r\n        {this.text('reporter')}\r\n      </div>\r\n    )\r\n  }\r\n\r\n  signature(){\r\n    return (\r\n      <div style={this.itemStyle()}>\r\n        {this.text('provided')}\r\n      </div>\r\n    )\r\n  }\r\n\r\n}\r\n\r\nexport default ReportRow;\r\n","import React from 'react';\r\nimport UI from 'components/UI';\r\nimport {Motion, spring}  from 'react-motion';\r\n\r\nimport no_image from 'resources/images/general/no_image.png';\r\n\r\nclass Row extends UI {\r\n\r\n  alertTag(){\r\n    const style = {\r\n      width: this.bs.height * 0.04,\r\n      height: this.bs.height * 0.04\r\n    }\r\n    return <div style={style}>{this.animatedAlert()}</div>\r\n  }\r\n\r\n  rowContent(title, rowInfo){\r\n    const infoStyle = {...this.bs, ...{\r\n      width: '75%',\r\n      height: this.bs.height * 0.12,\r\n      marginLeft: this.bs.height * 0.02\r\n    }}\r\n    return(\r\n      <div style={infoStyle}>\r\n        {this.rowTitle(title)}\r\n        {rowInfo()}\r\n      </div>\r\n    )\r\n  }\r\n\r\n  rowTitle(title){\r\n    if(!title){\r\n      return null;\r\n    }\r\n    const nameStyle = {\r\n      width: '100%',\r\n      height: this.bs.height * 0.06,\r\n      fontWeight: 'bold',\r\n      fontSize: this.bs.width * 0.04,\r\n      textAlign: 'left',\r\n      color: this.ui.colors.textGrey\r\n    }\r\n    return <div style={nameStyle}>{title}</div>\r\n  }\r\n\r\n  rowIcon(defaultUrl, onClick){\r\n    const size = this.bs.height * 0.12;\r\n    const iconSize = this.bs.height * 0.11;\r\n    const containerStyle = {...this.ui.styles.button , ...this.ui.styles.container,\r\n      ...this.ui.styles.border, ...{\r\n      width: size,\r\n      height: size,\r\n      backgroundColor: 'white',\r\n      position: 'relative',\r\n      borderRadius: 5\r\n    }}\r\n    const iconStyle = {...this.ui.styles.border, ...{\r\n      maxWidth: iconSize,\r\n      maxHeight: iconSize,\r\n      backgroundColor: 'white'\r\n    }}\r\n    const url = defaultUrl? defaultUrl: this.url.url? this.url.url: no_image;\r\n    return(\r\n      <div style={containerStyle} onClick={onClick}>\r\n        <img key={url} style={iconStyle} src={url} alt=''/>\r\n      </div>\r\n    )\r\n  }\r\n\r\n  animatedRow(content, height, onDead){\r\n    const ani = true;\r\n    const option = {stiffness: onDead? 200: 300, damping: 26, precision: 1.2}\r\n    return(\r\n      <Motion defaultStyle={{height: (!ani || onDead)? height: 0, opacity: (!ani || onDead)? 1.1:0}}\r\n      style={{height: spring(onDead? 0:height, option), opacity: spring(onDead?0: 1.1, option)}}>\r\n        {style=>content(style)}\r\n      </Motion>\r\n    )\r\n  }\r\n\r\n  animatedFadingRow(content, selected){\r\n    const option = {stiffness: 1000, damping: 50, precision: 2}\r\n    return(\r\n      <Motion defaultStyle={{opacity:0 }}\r\n      style={{opacity: spring(selected? 1: 0.25, option)}}>\r\n        {style=>content(style)}\r\n      </Motion>\r\n    )\r\n  }\r\n\r\n  rowStyle(){\r\n    return(\r\n      {...this.ui.styles.area, ...this.ui.styles.border, ...{\r\n        flexShrink: 0,\r\n        width: '98%',\r\n        alignItems: 'center',\r\n        position: 'relative',\r\n        borderRadius: 5,\r\n        margin: '1%'\r\n      }}\r\n    )\r\n  }\r\n\r\n}\r\n\r\nexport default Row;\r\n","import React from 'react';\r\nimport View from 'components/main/pages/home/views/View';\r\nimport ReportRow from 'components/main/items/rows/ReportRow';\r\n\r\nclass Entry extends View {\r\n\r\n  componentDidMount(){\r\n    this.actions.report.fetchReports();\r\n  }\r\n\r\n  topBar(){\r\n    const style = {...this.ui.styles.area, ...{\r\n      width: this.bs.width,\r\n      height: this.bs.height * 0.1,\r\n      backgroundColor: 'transparent',\r\n      alignItems: 'center'\r\n    }}\r\n    return(\r\n      <div style={style}>\r\n        {this.verGap('5%')}\r\n        {this.inputs.inputField('search','text','',[this.bs.width * 0.5,this.bs.height * 0.025],'',()=>{})}\r\n        {this.verGap('30%')}\r\n        {this.buttons.standard(this.ui.colors.blue, ['Export .csv','汇出 .csv',''], ()=>{})}\r\n      </div>\r\n    )\r\n  }\r\n\r\n  table(){\r\n    const style = {...this.bs, ...{\r\n      width: this.bs.width,\r\n      height: this.bs.height * 0.9,\r\n      backgroundColor: 'transparent'\r\n    }}\r\n    return(\r\n      <div style={style}>\r\n        {this.tableBar()}\r\n        {this.reportRows()}\r\n      </div>\r\n    )\r\n  }\r\n\r\n  tableBar(){\r\n    const style = {...this.ui.styles.area, ...{\r\n      width: this.bs.width,\r\n      height: this.bs.height * 0.1,\r\n      backgroundColor: this.ui.colors.deepBlue\r\n    }}\r\n    return(\r\n      <div style={style}>\r\n        {this.tableBarItems()}\r\n      </div>\r\n    )\r\n  }\r\n\r\n  tableBarItems(){\r\n    const content =\r\n    ['Last Modified','Description','Submit Time',\r\n    'Category','Sub-Category','Region','Status',\r\n    'Coordinate','Reporter','Signature'];\r\n    const style = {...this.ui.styles.area, ...{\r\n      alignItems: 'center',\r\n      justifyContent: 'center',\r\n      width: '100%',\r\n      fontSize: this.bs.width * 0.01,\r\n      color: 'white'\r\n    }}\r\n    return content.map((item, i)=>{\r\n      return(\r\n        <div key={i} style={style}>\r\n          {item}\r\n        </div>\r\n      )\r\n    })\r\n  }\r\n\r\n  reportRows(){\r\n    const style = {...this.bs ,...{\r\n      width: this.bs.width,\r\n      height: this.bs.height * 0.8,\r\n      overflow: 'auto'\r\n    }}\r\n    return(\r\n      <div style={style}>\r\n        {this.store.report.reports.map((report, i)=>{\r\n          return <ReportRow index={i} app={this.app} report={report}/>\r\n        })}\r\n      </div>\r\n    )\r\n  }\r\n\r\n  render() {\r\n    this.init(this.props);\r\n    return(\r\n      <div style={this.viewStyle()}>\r\n        {this.topBar()}\r\n        {this.table()}\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\nexport default Entry;\r\n","import React from 'react';\r\nimport UI from 'components/UI';\r\n\r\nimport no_image from 'resources/images/general/no_image.png';\r\n\r\nclass Image extends UI {\r\n\r\n  constructor(props){\r\n    super(props);\r\n    this.init(props);\r\n    this.state = {\r\n      filename: props.filename,\r\n      type: props.type\r\n    }\r\n    this.checkUrl();\r\n  }\r\n\r\n  componentWillReceiveProps(newProps){\r\n    this.init(newProps);\r\n    const newFilename = newProps.filename;\r\n    if(this.state.filename !== newFilename){\r\n      this.setState({ filename: newFilename }, ()=>{ this.checkUrl(); })\r\n    }\r\n    this.checkUrl();\r\n  }\r\n\r\n  render(){\r\n    this.init(this.props);\r\n    const url = this.props.photoUrl? this.props.photoUrl: this.url.url;\r\n    //console.log(url);\r\n    const size = this.props.size? this.props.size: '100%';\r\n    const scale = this.props.scale;\r\n\r\n    var containerStyle = {...this.ui.styles.container, ...{\r\n      width: this.props.size? size: scale[0],\r\n      height: this.props.size? size: scale[1],\r\n      backgroundColor: this.props.backgroundColor? this.props.backgroundColor: 'transparent',\r\n    }}\r\n\r\n    const imgBg = url? null: no_image;\r\n    const imgSize = this.props.size? size * 0.95: '95%';\r\n    const backgroundStyle = {...this.ui.styles.container, ...{\r\n      width: imgSize,\r\n      height: imgSize,\r\n      backgroundImage: 'url(' + imgBg + ')'\r\n    }}\r\n    const buttonStyle = {...this.ui.styles.button, ...{\r\n      width: this.props.size? size: scale[0],\r\n      height: this.props.size? size: scale[1],\r\n      position: 'absolute',\r\n      opacity: 0\r\n    }}\r\n\r\n    return(\r\n      <div key={url} style={containerStyle}>\r\n        <div style={backgroundStyle}>\r\n          <img style={{maxWidth: size, maxHeight: size}} src={url} alt=''/>\r\n          {url !== null && this.buttons.button(buttonStyle, ['',''], '',this.props.noEnlarge? null:()=>{this.onImageClick()})}\r\n        </div>\r\n      </div>\r\n    )\r\n  }\r\n\r\n  onImageClick(){\r\n    if(this.props.onClick){ this.props.onClick(); }\r\n    if(!this.props.photoUrl && !this.url.url){ return; }\r\n    //this.actions.main.enlargeImage(this.props.photoUrl? this.props.photoUrl: this.url.url);\r\n  }\r\n\r\n}\r\n\r\nexport default Image;\r\n","import React from 'react';\r\nimport UI from 'components/UI';\r\nimport {Motion, spring}  from 'react-motion';\r\n\r\nimport Image from 'components/main/items/ui/Image';\r\n\r\nclass PhotoViewer extends UI {\r\n\r\n  photoSelectBar(){\r\n    const style = {...this.ui.styles.area, ...{\r\n      width: this.bs.width,\r\n      height: this.bs.height * 0.15\r\n    }}\r\n    const report = this.store.report.viewingReport;\r\n    return(\r\n      <div style={style}>\r\n        {report.photo && report.photo.map((photo, i)=>{\r\n          return <Image app={this.app} filename={photo} type={'photo'}\r\n          scale={[this.bs.width * 0.25,this.bs.height * 0.15]}\r\n          onClick={()=>{ this.actions.main.setPhotoViewer(i); }}/>\r\n        })}\r\n      </div>\r\n    )\r\n  }\r\n\r\n  render() {\r\n    this.init(this.props);\r\n    const status = this.store.main.photoViewer;\r\n    const isOpen = status !== 'off';\r\n    const report = this.store.report.viewingReport;\r\n    const index = status === 'off'? 0: status;\r\n\r\n    const viewerStyle = {...this.bs, ...{\r\n      position: 'absolute',\r\n      width: this.bs.width,\r\n      height: this.bs.height,\r\n      minHeight: this.bs.minHeight,\r\n      backgroundColor: 'rgba(0,0,0,0.9)',\r\n      opacity: 1,\r\n      pointerEvents: isOpen? 'auto': 'none'\r\n    }}\r\n    return(\r\n      <Motion defaultStyle={{opacity: 0}}\r\n      style={{opacity: isOpen? spring(1.5):spring(0)}}>\r\n        {style=>(\r\n          <div key={status + this.count} style={{...viewerStyle,\r\n            ...{opacity: style.opacity}}}>\r\n            {report.photo && <Image app={this.app} filename={report.photo[index]} type={'photo'}\r\n            scale={[this.bs.width * 0.8,this.bs.height * 0.8]}/>}\r\n            {this.photoSelectBar()}\r\n            {this.buttons.absoluteClose(()=>{ this.actions.main.setPhotoViewer('off'); })}\r\n          </div>\r\n        )}\r\n      </Motion>\r\n    )\r\n  }\r\n\r\n}\r\n\r\nexport default PhotoViewer;\r\n","import React from 'react';\r\nimport View from 'components/main/pages/home/views/View';\r\n\r\n//import NavBar from './NavBar';\r\nimport Entry from './views/Entry';\r\nimport PhotoViewer from 'components/main/extend/PhotoViewer';\r\n\r\nclass Home extends View {\r\n\r\n  componentDidMount(){\r\n    this.actions.content.pushView('entry');\r\n  }\r\n\r\n  componentWillReceiveProps(newProps){\r\n    this.setState({\r\n      view: newProps.app.store.content.view,\r\n      deadView: this.state.view !== newProps.app.store.content.view? this.state.view: this.state.deadView\r\n    });\r\n  }\r\n\r\n  views(view, animatedStyle){\r\n    const app = this.app;\r\n    app.animatedStyle = animatedStyle;\r\n    if(view === ''){\r\n      return null;\r\n    }\r\n    switch (view) {\r\n      case 'entry':\r\n        return <Entry app={app}/>;\r\n      default:\r\n        return null;\r\n    }\r\n  }\r\n\r\n  render() {\r\n    this.init(this.props);\r\n    const pageStyle = {...this.ui.basicStyle, ...{\r\n      justifyContent: 'flex-start',\r\n      background: 'transparent',\r\n      backgroundSize: '100% 100%',\r\n      position: 'relative',\r\n      backgroundColor: 'white'\r\n    }}\r\n    const deadView = this.state.deadView;\r\n    const view = this.state.view;\r\n\r\n    return(\r\n      <div style={pageStyle}>\r\n        {this.animatedView(this.views.bind(this), deadView? deadView: view, deadView? false: true)}\r\n        <PhotoViewer app={this.app}/>\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\n\r\nexport default Home;\r\n","import React, { Component } from 'react';\r\n\r\nimport Login from './login/Login';\r\nimport Home from './home/Home';\r\n\r\nclass Pages extends Component {\r\n\r\n  page(){\r\n    const app = this.props.app;\r\n    switch (app.store.main.status) {\r\n      case 'waitForLogin':\r\n        return <Login app={app}/>\r\n      case 'ready':\r\n        return <Home app={app}/>\r\n      default:\r\n        return <div/>\r\n    }\r\n  }\r\n\r\n  render() {\r\n    return(\r\n      <div style={this.bs}>\r\n        {this.page()}\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\nexport default Pages;\r\n","import React from 'react';\r\nimport UI from 'components/UI';\r\nimport {Motion, spring}  from 'react-motion';\r\n\r\nclass Modal extends UI {\r\n\r\n  componentDidMount(){\r\n    this.count = 0;\r\n  }\r\n\r\n  componentWillReceiveProps(newProps){\r\n    this.count = this.count + 1;\r\n  }\r\n\r\n  board(){\r\n    const boardStyle = {\r\n      width: this.bs.height * 0.4,\r\n      height:  this.bs.height * 0.2,\r\n      borderRadius: '20px',\r\n      backgroundImage: '',\r\n      backgroundSize: '100% 100%',\r\n      display: 'flex',\r\n      flexFlow: 'column nowrap',\r\n      alignItems: 'center',\r\n      justifyContent: 'flex-end'\r\n    }\r\n\r\n    return(\r\n      <div style={boardStyle}>\r\n        <div style={{height: '10%'}} />\r\n        {this.message()}\r\n        {this.buttonsArea()}\r\n      </div>\r\n    )\r\n  }\r\n\r\n  message(){\r\n    const modal = this.store.modal;\r\n    const lang = this.store.main.language;\r\n    const text = modal[lang];\r\n\r\n    return <div style={modalStyle}>{text}</div>\r\n  }\r\n\r\n  buttonsArea(){\r\n    const status = this.store.modal.button;\r\n    const showBtn = status !== 'off';\r\n    const onConfirm = status === 'confirm'? this.store.modal.onConfirm: ()=>{};\r\n    const onCancel = this.store.modal.onCancel? this.store.modal.onCancel: ()=>{};\r\n\r\n    const areaStyle = {\r\n      width: '85%',\r\n      height: '65%',\r\n      backgroundColor: 'transparent',\r\n      display: 'flex',\r\n      flexFlow: 'row nowrap',\r\n      justifyContent: 'space-around',\r\n      alignItems: 'center',\r\n      flexShrink: 0\r\n    }\r\n    return(\r\n      <div style={areaStyle}>\r\n        {showBtn && this.button(['Confirm','確定','确定'], ()=>{ onConfirm(); this.actions.modal.hideModal(); })}\r\n        {status === 'confirm' && this.button(['Cancel','取消','取消'], ()=>{ onCancel(); this.actions.modal.hideModal();})}\r\n      </div>\r\n    )\r\n  }\r\n\r\n  button(text, onClick){\r\n    return this.buttons.button(modalStyle, text, '', onClick);\r\n  }\r\n\r\n  render() {\r\n    this.init(this.props);\r\n    const status = this.store.modal.status;\r\n    const isOpen = status !== 'off';\r\n\r\n    const modalStyle = {\r\n      position: 'absolute',\r\n      width: this.bs.width,\r\n      height: this.bs.height,\r\n      minHeight: this.bs.minHeight,\r\n      backgroundColor: 'rgba(0,0,0,0.5)',\r\n      opacity: 1,\r\n      display: 'flex',\r\n      justifyContent: 'center',\r\n      alignItems: 'center',\r\n      pointerEvents: isOpen? 'auto': 'none'\r\n    }\r\n    return(\r\n      <Motion defaultStyle={{opacity: 0}}\r\n      style={{opacity: isOpen? spring(1.5):spring(0)}}>\r\n        {style=>(\r\n          <div key={status + this.count} style={{...modalStyle,\r\n            ...{opacity: style.opacity}}}>\r\n            {this.board()}\r\n          </div>\r\n        )}\r\n      </Motion>\r\n    )\r\n  }\r\n\r\n}\r\n\r\nconst modalStyle = {\r\n  borderRadius: '20px',\r\n  backgroundColor: 'rgba(255,255,255,0.9)',\r\n  color: 'black',\r\n  fontFamily: 'adobestdb',\r\n  fontSize: '100%',\r\n  fontWeight: 'bold',\r\n  textAlign: 'center',\r\n  padding: '5%',\r\n  writingMode: 'horizontal-lr'\r\n}\r\n\r\nexport default Modal;\r\n","import React from 'react';\r\nimport UI from 'components/UI';\r\n\r\nimport Pages from './pages/Pages';\r\nimport Modal from './Modal';\r\n\r\nimport background from 'resources/images/general/background.png';\r\n\r\nclass Main extends UI {\r\n\r\n  componentDidMount(){\r\n    this.init(this.props);\r\n    this.actions.main.setStatus('ready');\r\n  }\r\n\r\n  componentWillReceiveProps(newProps){\r\n    this.init(this.props);\r\n\r\n    /*if(previous === 'waitForLogin'&& next === 'ready'){\r\n\r\n    }*/\r\n  }\r\n\r\n\r\n  render() {\r\n    this.init(this.props);\r\n\r\n    const mainStyle = {\r\n      width: this.ui.windowWidth * 0.9999,\r\n      height: this.ui.windowHeight * 0.9999,\r\n      minHeight: this.bs.height,\r\n      backgroundImage: 'url(' + background + ')',\r\n      backgroundSize: '10% 10%',\r\n      display: 'flex',\r\n      flexFlow: 'row nowrap',\r\n      justifyContent: 'center',\r\n\r\n      boxSizing: 'border-box',\r\n      overflow: 'hidden'\r\n    }\r\n    return (\r\n      <div style={mainStyle}>\r\n        <Pages app={this.app}/>\r\n        <Modal app={this.app}/>\r\n      </div>\r\n    )\r\n  }\r\n\r\n}\r\n\r\nexport default Main;\r\n","import React, { Component } from 'react';\r\nimport { bindActionCreators} from 'redux';\r\nimport { connect } from \"react-redux\";\r\nimport axios from 'axios';\r\n\r\nimport * as main from './redux/actions/control/main';\r\nimport * as ui from './redux/actions/control/ui';\r\nimport * as modal from './redux/actions/control/modal';\r\nimport * as content from './redux/actions/control/content';\r\n\r\nimport * as user from './redux/actions/data/user';\r\nimport * as report from './redux/actions/data/report';\r\n\r\nimport Main from './components/main/Main';\r\n\r\nclass App extends Component {\r\n\r\n  api(){ return this.isDev()? process.env.REACT_APP_API_DEV: process.env.REACT_APP_API; }\r\n\r\n  isDev(){ return process.env.REACT_APP_DEV === 'true'; }\r\n\r\n  addZeroIfSingle(num){\r\n    if(num < 10){\r\n      return '0' + String(num);\r\n    }else{\r\n      return '' + String(num);\r\n    }\r\n  }\r\n\r\n  dateString(date) {\r\n    let year = date.getFullYear();\r\n    let monthIndex = date.getMonth() + 1;\r\n    let day = date.getDate();\r\n    let hour = date.getHours();\r\n    let min = date.getMinutes();\r\n\r\n    let dateStr = year + '-' + this.addZeroIfSingle(monthIndex) + '-' + this.addZeroIfSingle(day);\r\n    //return '2018-02-08';\r\n    return dateStr;\r\n  }\r\n\r\n  timeString(date){\r\n    let hour = date.getHours();\r\n    let min = date.getMinutes();\r\n    let timeStr = this.addZeroIfSingle(hour) + ':' + this.addZeroIfSingle(min);\r\n    return timeStr;\r\n  }\r\n\r\n\r\n  multiLang(english, chinese, simplified_chinese){\r\n    switch (this.props.store.main.language) {\r\n      case 'english':\r\n        return english;\r\n      case 'chinese':\r\n        return chinese;\r\n      case 'simplified_chinese':\r\n        return simplified_chinese;\r\n      default:\r\n        return english;\r\n    }\r\n  }\r\n\r\n  async url(filename, type){\r\n    const actions = this.props.actions.content;\r\n    if(!filename){ /*console.log('no filename');*/ return ''};\r\n    const cachedUrl = this.props.store.content.cachedUrl[filename];\r\n    if(cachedUrl){\r\n      /*console.log(type + ' use cached url: ' + cachedUrl);*/\r\n      if(cachedUrl === 'processing...'){ return ''; }\r\n      return cachedUrl;\r\n    }\r\n    //console.log(filename + '- create url: processing...');\r\n    actions.cacheUrl(filename, 'processing...');\r\n    const localFile = await this.props.db.get(filename);\r\n    if(localFile){\r\n      //console.log(type + ' use localFile');\r\n      const url = URL.createObjectURL(localFile);\r\n      //console.log(filename + '- create url: ' + url);\r\n      actions.cacheUrl(filename, url);\r\n      return url;\r\n    }else{\r\n      //console.log(type + ' downloading...');\r\n      var downloadUrl = this.api() + '/download/'+ type + '/' + filename;\r\n      let err, res;\r\n      [err, res] = await to(axios.get(downloadUrl, {responseType: 'blob'}));\r\n      if(err || !res.data){ console.log('file download error!'); return '';}\r\n      this.props.db.set(filename, res.data);\r\n      const url = URL.createObjectURL(res.data);\r\n      actions.cacheUrl(filename, url);\r\n      return url;\r\n    }\r\n  }\r\n\r\n  render() {\r\n    const app = {\r\n      store: this.props.store,\r\n      actions: this.props.actions,\r\n      database: this.props.db,\r\n      functions: {\r\n        url: this.url.bind(this),\r\n        multiLang: this.multiLang.bind(this),\r\n        dateString: this.dateString.bind(this),\r\n        timeString: this.timeString.bind(this)\r\n      }\r\n    }\r\n    return (\r\n      <Main app={app}/>\r\n    );\r\n  }\r\n\r\n  componentDidMount() {\r\n    this.updateWindowDimensions();\r\n    window.addEventListener('resize', this.updateWindowDimensions.bind(this));\r\n  }\r\n\r\n  componentWillUnmount() {\r\n    window.removeEventListener('resize', this.updateWindowDimensions.bind(this));\r\n  }\r\n\r\n  updateWindowDimensions() {\r\n    this.props.actions.ui.setDimension({width: window.innerWidth,height: window.innerHeight});\r\n  }\r\n}\r\n\r\nfunction mapStateToProps(state, props) {\r\n  return { store: state }\r\n}\r\n\r\nfunction mapDispatchToProps(dispatch){\r\n  return {\r\n    actions: {\r\n      main: Action(main, dispatch),\r\n      ui: Action(ui, dispatch),\r\n      modal: Action(modal, dispatch),\r\n      content: Action(content, dispatch),\r\n\r\n      user: Action(user, dispatch),\r\n      report: Action(report, dispatch)\r\n    }\r\n  }\r\n}\r\n\r\nfunction Action(action, dispatch){\r\n  return bindActionCreators(action, dispatch)\r\n}\r\n\r\nfunction to(promise) {\r\n   return promise.then(data => {\r\n      return [null, data];\r\n   })\r\n   .catch(err => [err]);\r\n}\r\n\r\nexport default connect(mapStateToProps,mapDispatchToProps)(App);\r\n","import idb from 'idb';\r\n\r\nclass Database {\r\n  constructor() {\r\n    this.dbPromise = idb.open('database', 1, upgradeDB =>{\r\n      upgradeDB.createObjectStore('store')\r\n    });\r\n\r\n    this.get = this.get.bind(this);\r\n    this.set = this.set.bind(this);\r\n    this.delete = this.delete.bind(this);\r\n    this.clear = this.clear.bind(this);\r\n  }\r\n\r\n  get(key) {\r\n    return this.dbPromise.then(db => {\r\n      //console.log(key);\r\n      return db.transaction('store')\r\n        .objectStore('store').get(key);\r\n    }).catch(err=>{\r\n      console.log('db error, clearing db...');\r\n      this.clear();\r\n    })\r\n  }\r\n\r\n  set(key, val) {\r\n    return this.dbPromise.then(db => {\r\n      const tx = db.transaction('store', 'readwrite');\r\n      tx.objectStore('store').put(val, key);\r\n      //console.log(key, val);\r\n      return tx.complete;\r\n    })\r\n  }\r\n\r\n  delete(key) {\r\n    return this.dbPromise.then(db => {\r\n      const tx = db.transaction('store', 'readwrite');\r\n      tx.objectStore('store').delete(key);\r\n      return tx.complete;\r\n    })\r\n  }\r\n\r\n  clear() {\r\n    return this.dbPromise.then(db => {\r\n      const tx = db.transaction('store', 'readwrite');\r\n      tx.objectStore('store').clear();\r\n      return tx.complete;\r\n    })\r\n  }\r\n\r\n}\r\n\r\nexport default Database;\r\n","const mainReducer = (\r\n  state = {\r\n    status: 'init',\r\n    language: 'english',\r\n    photoViewer: 'off',\r\n    version: 'v1.0.0'\r\n  }, action)=>{\r\n  switch (action.type) {\r\n    case 'setPhotoViewer':\r\n      return {...state, photoViewer: action.payload};\r\n    case 'setStatus':\r\n      return {...state, status: action.payload};\r\n    default:\r\n      return state;\r\n  }\r\n}\r\n\r\nexport default mainReducer;\r\n","const uiReducer = (\r\n  state = {\r\n    minWidth: 360,\r\n    maxWidth: 2048,\r\n    minHeight: 540,\r\n    maxHeight: 1440,\r\n    windowWidth: 0,\r\n    windowHeight: 0,\r\n    basicStyle: {\r\n      width: 0,\r\n      height: 0,\r\n      display: 'flex',\r\n      flexFlow: 'column nowrap',\r\n      alignItems: 'center'\r\n    },\r\n    styles: {\r\n      container: {\r\n        display: 'flex',\r\n        justifyContent: 'center',\r\n        alignItems: 'center',\r\n        backgroundSize: '100% 100%',\r\n        flexShrink: 0\r\n      },\r\n      area: {\r\n        width: '100%',\r\n        display: 'flex',\r\n        flexFlow: 'row warp'\r\n      },\r\n      border: {\r\n        borderStyle: 'solid',\r\n        borderWidth: '1px',\r\n        borderColor: '#dddddd'\r\n      },\r\n      button: {\r\n        backgroundColor: 'transparent',\r\n        border: 'none',\r\n        cursor: 'pointer',\r\n        backgroundSize: '100% 100%'\r\n      }\r\n    },\r\n    colors: {\r\n      green: '#91c33b',\r\n      blue: '#2359a3',\r\n      deepBlue: '#0a2647',\r\n      textGrey: '#4a4a4a',\r\n      lightGrey: '#dddddd',\r\n    }\r\n  }, action)=>{\r\n  switch (action.type) {\r\n    case 'setDimension':\r\n      const windowWidth = action.payload.width;\r\n      const windowHeight = action.payload.height;\r\n      const basicStyle =\r\n      {...state.basicStyle,\r\n        width:\r\n        windowWidth < state.minWidth? state.minWidth:\r\n        windowWidth > state.maxWidth? state.maxWidth:\r\n        windowWidth * 0.9999,\r\n        height:\r\n        windowHeight < state.minHeight? state.minHeight:\r\n        windowHeight > state.maxHeight? state.maxHeight:\r\n        windowHeight * 0.9999};\r\n      return {...state,\r\n              windowWidth: windowWidth,\r\n              windowHeight: windowHeight,\r\n              basicStyle: basicStyle};\r\n    default:\r\n      return state;\r\n  }\r\n}\r\n\r\nexport default uiReducer;\r\n","const modalReducer = (\r\n  state = {\r\n    status: 'off',\r\n    english: '',\r\n    chinese: '',\r\n    simplified_chinese: '',\r\n    button: 'off',\r\n    onConfirm: null,\r\n    onCancel: null\r\n  }, action)=>{\r\n  switch (action.type) {\r\n    case 'confirm':\r\n      const payload = action.payload;\r\n      return {...state, status: 'on', button: 'confirm',\r\n      onConfirm: payload.onConfirm, onCancel: payload.onCancel,\r\n      english: payload.message[0], chinese: payload.message[1], simplified_chinese: payload.message[2]};\r\n    case 'message':\r\n      return {...state, status: 'on', button: 'on',\r\n      english: action.payload[0], chinese: action.payload[1], simplified_chinese: action.payload[2]};\r\n    case 'loadingMessage':\r\n      return {...state, status: 'on', button: 'off',\r\n      english: action.payload[0], chinese: action.payload[1], simplified_chinese: action.payload[2]};\r\n    case 'hideModal':\r\n      return {...state, status: 'off', button: 'off'};\r\n    default:\r\n      return state;\r\n  }\r\n}\r\n\r\nexport default modalReducer;\r\n","const contentReducer = (\r\n  state = {\r\n    view: '',\r\n    traces: [],\r\n    subView: '',\r\n    cachedUrl: {},\r\n  }, action)=>{\r\n  switch (action.type) {\r\n    case 'cacheUrl':\r\n      var newCachedUrl = state.cachedUrl;\r\n      newCachedUrl[action.payload.filename] = action.payload.url;\r\n     return {...state, cachedUrl: newCachedUrl}\r\n    case 'setSubView':\r\n      return {...state, subView: action.payload}\r\n    case 'backToHome':\r\n      return {...state, traces: state.traces.slice(0, 1), view: state.traces[0]};\r\n    case 'clearView':\r\n      return {...state, traces: [], view: ''};\r\n    case 'pullView':\r\n      if(state.traces.length === 0){ return state; }\r\n      return {...state, traces: state.traces.slice(0, state.traces.length - 1), view: state.traces[state.traces.length - 2]};\r\n    case 'pushView':\r\n      return {...state, traces: [...state.traces, action.payload], view: action.payload};\r\n    default:\r\n      return state;\r\n  }\r\n}\r\n\r\nexport default contentReducer;\r\n","const userReducer = (\r\n  state = {\r\n    id: '',\r\n    pw: '',\r\n    type: '',\r\n    createdAt: ''\r\n  }, action)=>{\r\n  switch (action.type) {\r\n    case 'setUser':\r\n      return action.payload;\r\n    default:\r\n      return state;\r\n  }\r\n}\r\n\r\nexport default userReducer;\r\n","\r\nvar reducer = {\r\n  updateElements: function (originals, newElements, idOnly, append){\r\n    //console.log(originals);\r\n    if(!newElements || newElements.length === 0){\r\n      return originals;\r\n    }\r\n    var updatedArray = originals.slice(0);\r\n    if(updatedArray.length === 0){\r\n      updatedArray = [newElements[0]];\r\n    }\r\n\r\n    for(var i=0;i<newElements.length;i++){\r\n      if(!newElements[i]){ continue; }\r\n      for(var j=0;j<updatedArray.length;j++){\r\n        if(!idOnly && (updatedArray[j]._id === newElements[i]._id)){\r\n          updatedArray[j] = {...updatedArray[j], ...newElements[i]};\r\n          break;\r\n        }\r\n        if(idOnly && (updatedArray[j] === newElements[i])){\r\n          updatedArray[j] = newElements[i];\r\n          break;\r\n        }\r\n        if(j === updatedArray.length - 1){\r\n          if(append){\r\n            updatedArray.splice(updatedArray.length,0,newElements[i]);\r\n          }else{\r\n            updatedArray.splice(0,0,newElements[i]);\r\n          }\r\n          break;\r\n        }\r\n      }\r\n    }\r\n    return updatedArray;\r\n  },\r\n  getElementIndex: function (data, element){\r\n    for(var i=0;i<data.length;i++){\r\n      if(data[i]._id === element._id){ return i; }\r\n    }\r\n  }\r\n\r\n}\r\n\r\nexport default reducer;\r\n","import reducer from '../reducer';\r\n\r\nconst reportReducer = (\r\n  state = {\r\n    reports: [],\r\n    viewingReport: {},\r\n    currentStage: 0\r\n  }, action)=>{\r\n  switch (action.type) {\r\n    case 'setCurrentStage':\r\n      const index = action.payload;\r\n      if(index < 0 || index > 4){ return state; }\r\n      return {...state, currentStage: action.payload};\r\n    case 'viewReport':\r\n      return {...state, viewingReport: action.payload};\r\n    case 'updateReports':\r\n      return {...state, reports: reducer.updateElements(state.reports, action.payload)};\r\n    default:\r\n      return state;\r\n  }\r\n}\r\n\r\nexport default reportReducer;\r\n","import { combineReducers } from \"redux\";\r\nimport main from './control/main';\r\nimport ui from './control/ui';\r\nimport modal from './control/modal';\r\nimport content from './control/content';\r\n\r\nimport user from './data/user';\r\nimport report from './data/report';\r\n\r\nconst rootReducer = combineReducers({\r\n  main,\r\n  ui,\r\n  modal,\r\n  content,\r\n\r\n  user,\r\n  report\r\n});\r\n\r\nexport default rootReducer;\r\n","import { applyMiddleware, createStore } from \"redux\";\r\nimport rootReducer from \"./reducers/root\";\r\nimport reduxLogger from \"redux-logger\";\r\nimport thunk from \"redux-thunk\"\r\n//import axios from \"axios\";\r\n\r\nconst error = (store) => (next) => (action) => {\r\n  try{\r\n    next(action);\r\n  } catch(err){\r\n    console.log(\"error! \", err);\r\n  }\r\n}\r\n\r\nvar middleware = null;\r\nif(process.env.REACT_APP_DEV === 'true'){\r\n  middleware = applyMiddleware(error, reduxLogger, thunk);\r\n  //middleware = applyMiddleware(error, thunk);\r\n}else{\r\n  middleware = applyMiddleware(error, thunk);\r\n}\r\nconst store = createStore(rootReducer,{},middleware);\r\n\r\nexport default store;\r\n","import './index.css';\r\nimport React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport { Provider } from 'react-redux';\r\nimport * as serviceWorker from './serviceWorker';\r\n\r\nimport App from './App';\r\nimport Database from './Database';\r\nimport store from './redux/store';\r\n\r\nReactDOM.render(  <Provider store={store}><App db={new Database()}/></Provider>\r\n  , document.getElementById('root'));\r\n\r\n// If you want your app to work offline and load faster, you can change\r\n// unregister() to register() below. Note this comes with some pitfalls.\r\n// Learn more about service workers: http://bit.ly/CRA-PWA\r\nserviceWorker.unregister();\r\n"],"sourceRoot":""}